<html><!-- InstanceBegin template="/Templates/submenu_technology.dwt" codeOutsideHTMLIsLocked="false" -->
<!-- old wdas header -----------------------------------------------------------------
<head>
<title>New SeExpr OSS Home</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

<link rel="stylesheet" type="text/css" href="../styles.css">

        
<script type="text/javascript">
function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}
function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}
</script>

<script src="../SpryAssets/SpryCollapsiblePanel.js" type="text/javascript"></script>
<link href="../SpryAssets/SpryCollapsiblePanel.css" rel="stylesheet" type="text/css">

<script src="../includes/prototype.js" type="text/javascript"></script>
<script src="../includes/cufon-yui.js" type="text/javascript"></script>
<script src="../includes/Century_Gothic_400.font.js" type="text/javascript"></script>
<script type="text/javascript">
	Cufon.replace('#navtop a',{hover: true});
	Cufon.replace('#nav a',{hover: true});
</script>

 end old wdas header ----------------------------------------------------------------- -->

<head>
<style>
pre
{
font-weight:bold;
color:white;
background-color: #554422;
font-family: courier;
}

</style>
</head>

<body class="oss" bgcolor="#766d57" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" onUnload="Cufon.refresh();">

<!-- old wdas header -----------------------------------------------------------------

<center><br/><br/>
<table id="Table_01" width="961" height="92" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td rowspan="3">
			<a href="../index.html"><img src="../images/wdas_logo.gif" alt="WDAS Logo" width="282" height="75" border="0"></a></td>
<td colspan="4">
			<img src="../images/header_noSubmenu_02.gif" width="679" height="27" alt=""></td>
	</tr>
	<tr>
		<td rowspan="2">
			<img src="../images/header_noSubmenu_03.gif" width="150" height="48" alt=""></td>
		<td><ul id="navtop">
        	<li><img src="../images/vertBar.gif"><a href="index.html"><font color="#F37736">TECHNOLOGY</font></a></li>
            <li><img src="../images/vertBar.gif"><a href="../careers/index.html">CAREERS</a></li>
            <li><img src="../images/vertBar.gif"><a href="../projects/index.html">PROJECTS</a></li>
            <li><img src="../images/vertBar2.gif"><a href="../aboutus/index.html">ABOUT US</a></li>
        </ul></td>
	</tr>
	<tr>
		<td colspan="3">
			<img src="../images/header_noSubmenu_07.gif" width="248" height="23" alt=""></td>
	</tr>
	<tr>
		<td>
			<img src="../images/header_noSubmenu_08.gif" width="282" height="17" alt=""></td>
	   
  	</tr>
</table>
 end old wdas header ----------------------------------------------------------------- -->
<!-- End Header -->
<!-- InstanceBeginEditable name="mainContent" -->
<div id="wrapper" style="text-align:center;">
<div id="paperBGgrad">
<div class="h1_light"   style="text-align:left;"><img src="images/seexpr-logo-white.png" alt="Seexpr"></div>

<table width="796" border="0" cellspacing="0" cellpadding="8px" style="margin-left: 75px;">
  <tr>
			<td style="text-align: justify;color: white;font-family: helvetica, arial, sans-serif;font-size: 13px;vertical-align: top;">
			
		</td>
</tr>			
                        <tr>
			<td style="text-align: justify;color: white;font-family: helvetica, arial, sans-serif;font-size: 13px;vertical-align: top;">
<p>


Arithmetic expressions appear in almost every animation system ever
created. Being able to embed an expression language in a piece of custom
software allows an amazing degree of artistic freedom. At Disney artists have
enjoyed using expressions because they allow just enough flexibility without
being overwhelming to non-programmer users. Developers have enjoyed them too for
quick prototyping and deployment of fixes to production needs.


<h2>History</h2>

<a href="images/seexpr-editor.png"><img src="images/seexpr-editor-sm.png"
                                                        align="right"
                                                        width=160></a>
<p>
At Disney there have been various expression languages. SeExpr started as a
language for our procedural geometry instancing tool, XGen. Work was done to
generalize it into something that could be used in other contexts. Later it was
integrated into paint3d, our texture painting facility, which opened the door to
procedural synthesis. More recently, we have integrated it as a way of defining
procedural controls to physical dynamical simulations and render time particle
instancing.</p>

<p>
Expressions can be seen as a way of allowing customization of inner loops. This
is contrast to scripting which is mostly aimed at gluing large parts of code
base together. So in this sense, C++ forms the center of your application,
python could be used to put pieces of it together, and SeExpr is used to
customize tight inner loops. </p>


<h2>Major Features</h2>

<ul>
<li>Arithmetic expression of scalar/vector types
<li>Large library of builtin functions
<li>Extensible variables and functions (including with DSOs)
<li>Simple to embed in any program
</ul>


<h2>Get Started</h2>

<table width="100%">
<tr><td>

<ul><li>Source Code at <a href="http://github.com/wdas/seexpr/">github</a></li>

<li>Documentation</li>
<ul>
<li><a href="http://wdas.github.com/SeExpr/doxygen">Main API Documentation</a>
<li><a href="http://wdas.github.com/SeExpr/doxygen/userdoc.html">Language Documentation</a>
<li><a href="http://wdas.github.com/SeExpr/doxygen/mytut.html">Developer Tutorial</a>
</ul>

<li>Google Groups Discussion</li>
<ul>
<li><a href="http://groups.google.com/group/seexpr-discuss">seexpr-discuss</a>
<li><a href="http://groups.google.com/group/seexpr-announce">seexpr-announce</a>
</ul>
</ul>


</td></tr></table>

<h2>Demos</h2>


<p>
We have packaged several demo applications with SeExpr to show some potential
uses. We include a
<a href="movs/asciigraph.mov">simple ASCII graphing calculator (.mov)</a>,
a <a href="movs/segraph.mov">Qt graphing calculator (.mov)</a>, a
<a href="movs/shadeop.mov">RenderMan shader and shadeop (.mov)</a> to access
expressions and a Qt particle simulator (soon to be released). These are all
available in the src/demos directory of the source tree.
</p>

<table cellspacing="0" cellpadding="4" bgcolor="#664433">
<tr>
  <td>
    <a href="movs/asciigraph.mov"><img 
    src="movs/asciigraph-icon.png" alt="asciigraph"></a>
  </td><td>
    <a href="movs/segraph.mov"><img 
    src="movs/segraph-icon.png" alt="segraph"></a>
  </td><td>
    <a href="movs/shadeop.mov"><img  
    src="movs/shadeop-icon.png" alt="shadeop"></a>
    </td>
</tr><tr>
<td><a href="movs/asciigraph.mov">asciiGraph (.mov)</a></td>
<td><a href="movs/segraph.mov">segraph (.mov)</a></td>
<td><a href="movs/shadeop.mov">shadeop (.mov)</a></td>
</tr>
</table>

<p>Artistic control is very important for film making. Expressions though
essentially a mathematical concept can readily be used to create artist directed
procedural content.  One key we found was creating an interface around the
expression language that automatically exposed parameters on defined variables.
For example on the right you see a color ramp, slider, and spline ramp that are
all automatically generated from just typing the expression below. Also,
libraries of expressions are created by expert users and shared with other
users. While we are not releasing the GUI for the expression editor, the
expression language at its core is SeExpr.
A demonstration of the expression editor can be seen
in <a href="http://www.youtube.com/watch?v=GxNlAlOuQQQ&feature=player_detailpage#t=199s">this
    video (YouTube)</a> at time
3:18. Also take a look at our  <a href="movs/editor.mov">editor (.mov)</a>
and <a href="movs/library.mov">library (.mov)</a> in action.
</p>

<table cellspacing="0" cellpadding="4" bgcolor="#664433">
<tr>
  <td>
    <a href="movs/editor.mov"><img src="movs/editor-icon.png" alt="editor" ></a>
  </td><td>
    <a href="movs/library.mov"><img src="movs/library-icon.png" alt="library" ></a>
  </td>
</tr><tr>
<tr>
<td><a href="movs/editor.mov">editor (.mov)</a></td>
<td><a href="movs/library.mov">library (.mov)</a></td>
</tr>
</table>

</p>







<h2>Usage Example</h2>

<p>
SeExpr can be used in many evaluation contexts, and in each context it may have
different bound variables, different customizable functions.  As an example, a
programmer could allow a user to generate an image by evaluating an expression
at each point of the image and binding a u and v variable for the u,v parameter of the
image.  Then the user could write
</P>

<!--
<h3>Noisy Image</h3>

<table><tr><td>
<font size=-2>
<pre>
noise(10*$u,10*$v)
</pre>
</font>
</td><td>
<font size=-2>
<pre>
fbm([10*$u,10*$v,.5])
</pre></font>
</td></tr>
<tr><td>
<img src="images/example1.png">
</td>
<td>
<img src="images/example1b.png">
</td>
</tr>
</table>
-->

<h3>Noise Driving Color Interpolation</h3>

<table><tr><td>
<font size=-2>
<pre>
$val=noise(10*$u,10*$v);
$color=ccurve($val,  
    0.000, [1.000, 1.000, 0.498], 4,  
    0.590, [0.333, 0.000, 0.000], 4,  
    0.665, [1.000, 1.000, 0.000], 4);

$color
</pre>
</font>
</td><td>
<font size=-2>
<pre>
$val=voronoi(5*[$u,$v,.5],4,.6,.2);
$color=ccurve($val,
    0.000, [0.141, 0.059, 0.051], 4, 
    0.185, [0.302, 0.176, 0.122], 4, 
    0.301, [0.651, 0.447, 0.165], 4,  
    0.462, [0.976, 0.976, 0.976], 4);
$color
</pre>
</font>
</td>
</tr>
<tr><td>
<img src="images/example2.png">
</td><td>
<img src="images/example2b.png">
</td>
</tr>
</table>

<h3>Ray Tracing Sphere</h3>

<p>
This is an example of something you probably should not do with expressions. At
the same time it is sometimes nice to prototype functions and techniques in
expressions because of the interactivity. 
</p>

<table><tr><td>
<font size=-2>
<pre>
$Cs=[1.000, 0.000, 1.000]; # Sphere Color
$L1=norm([-1.3,-.3,0]); # Light Direction 1
$L2=norm([.8,-1,-1]); # Light Direction 2
$sp=[0.000, 0.000, -3.000]; # Sphere center
$d=norm([$u-.5,$v-.5,-1]); # ray direction
$o=[0.000, 0.000, 0.000]; # ray origin
$r=1.000; # sphere radius
# quadratic coefficients
$a=dot($d,$d);
$ominussp=$o-$sp;
$b=2*dot($d,$ominussp);
$c=dot($ominussp,$ominussp)-$r*$r;
# discriminant
$disc=$b*$b-4*$a*$c;
$color=0.000;
if($disc>0){ # two hit case
  # minimum ray parameter
  $t=min((-$b+sqrt($disc))/(2*$a),(-$b-sqrt($disc))/(2*$a))[0];
  if($t>=0){ # if we are in front of camera
      $Pintersect=$o+$d*$t;  # point of intersection
      $N=norm($Pintersect-$sp); # intersection normal
      # lighting
      $H1=(-$L1+-$d)/length($L1+$d);
      $color=max(dot($N,-$L1),0)*($Cs*.3+.5*max(0,dot($H1,$N))^80);
      $H2=(-$L2+-$d)/length($L2+$d);
      $color+=max(dot($N,-$L2),0)*($Cs*.3+.5*max(0,dot($H2,$N))^80);
   }
}
# return color
$color
</pre>
</font>
</td><td valign=top>
<img src="images/example3.png">
</td></tr></table>


<h2>Future Plans</h2>

Recently we have been exploring a LLVM backend for native compilation on both
GPUs and CPUs.  We are also looking at adding a limited set of new language
features. 




</td>
</tr>
</table>

            </div></div>
    
  <!-- InstanceEndEditable --><br/>
<br/><br/>

<!--#include virtual="../footer.html" -->

</center>
<script type="text/javascript"> Cufon.now(); </script>

</body>
<!-- InstanceEnd --></html>
