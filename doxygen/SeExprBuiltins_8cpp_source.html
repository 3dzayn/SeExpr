<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SeExpr: /jobs2/soft/users/aselle/src/seexpr-to-push/src/SeExpr/SeExprBuiltins.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/jobs2/soft/users/aselle/src/seexpr-to-push/src/SeExpr/SeExprBuiltins.cpp</h1><a href="SeExprBuiltins_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> SEEXPR SOFTWARE</span>
<a name="l00003"></a>00003 <span class="comment"> Copyright 2011 Disney Enterprises, Inc. All rights reserved</span>
<a name="l00004"></a>00004 <span class="comment"> </span>
<a name="l00005"></a>00005 <span class="comment"> Redistribution and use in source and binary forms, with or without</span>
<a name="l00006"></a>00006 <span class="comment"> modification, are permitted provided that the following conditions are</span>
<a name="l00007"></a>00007 <span class="comment"> met:</span>
<a name="l00008"></a>00008 <span class="comment"> </span>
<a name="l00009"></a>00009 <span class="comment"> * Redistributions of source code must retain the above copyright</span>
<a name="l00010"></a>00010 <span class="comment"> notice, this list of conditions and the following disclaimer.</span>
<a name="l00011"></a>00011 <span class="comment"> </span>
<a name="l00012"></a>00012 <span class="comment"> * Redistributions in binary form must reproduce the above copyright</span>
<a name="l00013"></a>00013 <span class="comment"> notice, this list of conditions and the following disclaimer in</span>
<a name="l00014"></a>00014 <span class="comment"> the documentation and/or other materials provided with the</span>
<a name="l00015"></a>00015 <span class="comment"> distribution.</span>
<a name="l00016"></a>00016 <span class="comment"> </span>
<a name="l00017"></a>00017 <span class="comment"> * The names &quot;Disney&quot;, &quot;Walt Disney Pictures&quot;, &quot;Walt Disney Animation</span>
<a name="l00018"></a>00018 <span class="comment"> Studios&quot; or the names of its contributors may NOT be used to</span>
<a name="l00019"></a>00019 <span class="comment"> endorse or promote products derived from this software without</span>
<a name="l00020"></a>00020 <span class="comment"> specific prior written permission from Walt Disney Pictures.</span>
<a name="l00021"></a>00021 <span class="comment"> </span>
<a name="l00022"></a>00022 <span class="comment"> Disclaimer: THIS SOFTWARE IS PROVIDED BY WALT DISNEY PICTURES AND</span>
<a name="l00023"></a>00023 <span class="comment"> CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,</span>
<a name="l00024"></a>00024 <span class="comment"> BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS</span>
<a name="l00025"></a>00025 <span class="comment"> FOR A PARTICULAR PURPOSE, NONINFRINGEMENT AND TITLE ARE DISCLAIMED.</span>
<a name="l00026"></a>00026 <span class="comment"> IN NO EVENT SHALL WALT DISNEY PICTURES, THE COPYRIGHT HOLDER OR</span>
<a name="l00027"></a>00027 <span class="comment"> CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span>
<a name="l00028"></a>00028 <span class="comment"> EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</span>
<a name="l00029"></a>00029 <span class="comment"> PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</span>
<a name="l00030"></a>00030 <span class="comment"> PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND BASED ON ANY</span>
<a name="l00031"></a>00031 <span class="comment"> THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00032"></a>00032 <span class="comment"> (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00033"></a>00033 <span class="comment"> OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.</span>
<a name="l00034"></a>00034 <span class="comment">*/</span>
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="SeExprBuiltins_8cpp.html#aeb7e7a856ab7a794b05b6b63ef36ea3e">00036</a> <span class="preprocessor">#define __STDC_LIMIT_MACROS</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;limits.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;cfloat&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="SeExprFunc_8h.html">SeExprFunc.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="SeExprNode_8h.html">SeExprNode.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="SeVec3d_8h.html">SeVec3d.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="SeCurve_8h.html">SeCurve.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="SeExprBuiltins_8h.html">SeExprBuiltins.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="SePlatform_8h.html" title="Platform-specific classes, functions, and includes.">SePlatform.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="SeNoise_8h.html">SeNoise.h</a>&quot;</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="keyword">namespace </span>SeExpr {
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="keyword">namespace </span>{
<a name="l00055"></a>00055     <span class="comment">// helper functions used by perlin()</span>
<a name="l00056"></a>00056     <span class="keyword">inline</span> <span class="keywordtype">double</span> fade(<span class="keywordtype">double</span> t) { <span class="keywordflow">return</span> t*t*t*(t*(t*6-15)+10); }
<a name="l00057"></a>00057     <span class="keyword">inline</span> <span class="keywordtype">double</span> lerp(<span class="keywordtype">double</span> t, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>) { <span class="keywordflow">return</span> a+t*(b-a); }
<a name="l00058"></a>00058     <span class="keyword">inline</span> <span class="keywordtype">double</span> grad(<span class="keywordtype">int</span> <a class="code" href="namespaceSeExpr.html#a74fc283df3c246302b37ddbf9c257f44">hash</a>, <span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#ac2ae9ce22cb3da03dc31d9f723d55fff">y</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#aa113fc4be60af94d873283bd6eca6bca">z</a>) {
<a name="l00059"></a>00059         <span class="keywordtype">int</span> h = hash &amp; 15;              <span class="comment">// CONVERT LO 4 BITS OF HASH CODE</span>
<a name="l00060"></a>00060         <span class="keywordtype">double</span> u = h&lt;8 ? x : y,         <span class="comment">// INTO 12 GRADIENT DIRECTIONS.</span>
<a name="l00061"></a>00061             v = h&lt;4 ? y : h==12||h==14 ? x : z;
<a name="l00062"></a>00062         <span class="keywordflow">return</span> ((h&amp;1) == 0 ? u : -u) + ((h&amp;2) == 0 ? v : -v);
<a name="l00063"></a>00063     }
<a name="l00064"></a>00064 }
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="namespaceSeExpr.html#a6c841a0db60214d2d32c18d0b704b8f8">00067</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a6c841a0db60214d2d32c18d0b704b8f8">fabs_docstring</a>=<span class="stringliteral">&quot;float abs(float x)\nabsolute value of x&quot;</span>;
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="comment">// angle conversion functions</span>
<a name="l00070"></a><a class="code" href="namespaceSeExpr.html#af80ec0f1c3d07027def626c704daa5b7">00070</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#af80ec0f1c3d07027def626c704daa5b7">deg_docstring</a>=<span class="stringliteral">&quot;float deg(float angle)\nradians to degrees&quot;</span>;
<a name="l00071"></a><a class="code" href="namespaceSeExpr.html#ad63f5aa6f5e83f3f61b7e2aee3a4a228">00071</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ad63f5aa6f5e83f3f61b7e2aee3a4a228">rad_docstring</a>=<span class="stringliteral">&quot;float deg(float angle)\ndegrees to radians&quot;</span>;
<a name="l00072"></a>00072 <span class="comment">// trig in degrees</span>
<a name="l00073"></a><a class="code" href="namespaceSeExpr.html#a1fc3ba7a2eeb17475bfbdc1207cb1598">00073</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a1fc3ba7a2eeb17475bfbdc1207cb1598">cosd_docstring</a>=<span class="stringliteral">&quot;float cosd(float angle)\ncosine in degrees&quot;</span>;
<a name="l00074"></a><a class="code" href="namespaceSeExpr.html#a9b34a25339c976ab1f3084a233c9f168">00074</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a9b34a25339c976ab1f3084a233c9f168">sind_docstring</a>=<span class="stringliteral">&quot;float sind(float angle)\nsine in degrees&quot;</span>;
<a name="l00075"></a><a class="code" href="namespaceSeExpr.html#ab45ae4fe675e893b844f6f4e27f9bbbe">00075</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ab45ae4fe675e893b844f6f4e27f9bbbe">tand_docstring</a>=<span class="stringliteral">&quot;float tand(float angle)\ntangent in degrees&quot;</span>;
<a name="l00076"></a><a class="code" href="namespaceSeExpr.html#addd906d8b2d4826c6917b21c0a74fe87">00076</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#addd906d8b2d4826c6917b21c0a74fe87">acosd_docstring</a>=<span class="stringliteral">&quot;float acosd(float angle)\narc cosine in degrees&quot;</span>;
<a name="l00077"></a><a class="code" href="namespaceSeExpr.html#ab8bc23b4e9840c5e76ae598d2e6b3fb7">00077</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ab8bc23b4e9840c5e76ae598d2e6b3fb7">asind_docstring</a>=<span class="stringliteral">&quot;float asind(float angle)\narc sine in degrees&quot;</span>;
<a name="l00078"></a><a class="code" href="namespaceSeExpr.html#a1f2482e2f868147fbb40f50c749ec58c">00078</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a1f2482e2f868147fbb40f50c749ec58c">atand_docstring</a>=<span class="stringliteral">&quot;float atand(float angle)\narc tangent in degrees&quot;</span>;
<a name="l00079"></a><a class="code" href="namespaceSeExpr.html#a64ef4a9d87685d1c604b95e7b62d0946">00079</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a64ef4a9d87685d1c604b95e7b62d0946">atan2d_docstring</a>=<span class="stringliteral">&quot;float atan2d(float y,float x)\narc tangent in degrees of y/x between -180 and 180&quot;</span>;
<a name="l00080"></a>00080 <span class="comment">// trig in radians</span>
<a name="l00081"></a><a class="code" href="namespaceSeExpr.html#ab4125e1729d26674135bd75adc25afe8">00081</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ab4125e1729d26674135bd75adc25afe8">cos_docstring</a>=<span class="stringliteral">&quot;float cos(float angle)\ncosine in radians&quot;</span>;
<a name="l00082"></a><a class="code" href="namespaceSeExpr.html#aca8052ce2e9d2ee95d69373cc2a0d8c0">00082</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#aca8052ce2e9d2ee95d69373cc2a0d8c0">sin_docstring</a>=<span class="stringliteral">&quot;float sin(float angle)\nsine in radians&quot;</span>;
<a name="l00083"></a><a class="code" href="namespaceSeExpr.html#ae0e8bb9e9d48d50d11154f87f69c0d5e">00083</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ae0e8bb9e9d48d50d11154f87f69c0d5e">tan_docstring</a>=<span class="stringliteral">&quot;float tan(float angle)\ntangent in radians&quot;</span>;
<a name="l00084"></a><a class="code" href="namespaceSeExpr.html#a4f605fd2860775f18e9b7a20d96a87fe">00084</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a4f605fd2860775f18e9b7a20d96a87fe">acos_docstring</a>=<span class="stringliteral">&quot;float acos(float angle)\narc cosine in radians&quot;</span>;
<a name="l00085"></a><a class="code" href="namespaceSeExpr.html#a78539610eb37ec8b079679764a8f2ea3">00085</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a78539610eb37ec8b079679764a8f2ea3">asin_docstring</a>=<span class="stringliteral">&quot;float asin(float angle)\narc sine in radians&quot;</span>;
<a name="l00086"></a><a class="code" href="namespaceSeExpr.html#a80707950e049b8bc8d33f13ef133a4b4">00086</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a80707950e049b8bc8d33f13ef133a4b4">atan_docstring</a>=<span class="stringliteral">&quot;float atan(float angle)\narc tangent in radians&quot;</span>;
<a name="l00087"></a><a class="code" href="namespaceSeExpr.html#a1f899e9441e4c55f87b78dcb10519523">00087</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a1f899e9441e4c55f87b78dcb10519523">atan2_docstring</a>=<span class="stringliteral">&quot;float atan2(float y,float x)\narc tangent in radians of y/x between -PI and PI&quot;</span>;
<a name="l00088"></a>00088 <span class="comment">// hyperbolic trig</span>
<a name="l00089"></a><a class="code" href="namespaceSeExpr.html#a19afd97398aa42bc46c7daed4128a337">00089</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a19afd97398aa42bc46c7daed4128a337">cosh_docstring</a>=<span class="stringliteral">&quot;float cosh(float angle)\nhyperbolic cosine in radians&quot;</span>;
<a name="l00090"></a><a class="code" href="namespaceSeExpr.html#a959f2f2d5e5e26f595c1652185cefce9">00090</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a959f2f2d5e5e26f595c1652185cefce9">sinh_docstring</a>=<span class="stringliteral">&quot;float sinh(float angle)\nhyperbolic sine in radians&quot;</span>;
<a name="l00091"></a><a class="code" href="namespaceSeExpr.html#a6609380efa440a596cf53c2ae9dd6663">00091</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a6609380efa440a596cf53c2ae9dd6663">tanh_docstring</a>=<span class="stringliteral">&quot;float tanh(float angle)\nhyperbolic tangent in radians&quot;</span>;
<a name="l00092"></a><a class="code" href="namespaceSeExpr.html#a3d3aef515727252bb4c75974380029f5">00092</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a3d3aef515727252bb4c75974380029f5">acosh_docstring</a>=<span class="stringliteral">&quot;float acosh(float angle)\nhyperbolic arc cosine in radians&quot;</span>;
<a name="l00093"></a><a class="code" href="namespaceSeExpr.html#ad08d429e632001f6a9d56eeb1721ded3">00093</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ad08d429e632001f6a9d56eeb1721ded3">asinh_docstring</a>=<span class="stringliteral">&quot;float asinh(float angle)\nhyperbolic arc sine in radians&quot;</span>;
<a name="l00094"></a><a class="code" href="namespaceSeExpr.html#aaf6bdd10ecc5c927a9518cb13323fec7">00094</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#aaf6bdd10ecc5c927a9518cb13323fec7">atanh_docstring</a>=<span class="stringliteral">&quot;float atanh(float angle)\nhyperbolic arc tangent in radians&quot;</span>;
<a name="l00095"></a>00095 <span class="comment">// clamping/rounding</span>
<a name="l00096"></a><a class="code" href="namespaceSeExpr.html#ad737dacfd4708a7a393bfdd3cf23ad7a">00096</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ad737dacfd4708a7a393bfdd3cf23ad7a">clamp_docstring</a>=<span class="stringliteral">&quot;float clamp(float x,float lo,float hi)\nconstrain x to range [lo,hi]&quot;</span>;
<a name="l00097"></a><a class="code" href="namespaceSeExpr.html#a4f164c73bca5425c5124d0f564d7ae21">00097</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a4f164c73bca5425c5124d0f564d7ae21">round_docstring</a>=<span class="stringliteral">&quot;float round(float x)\nconstrain x to range [lo,hi]&quot;</span>;
<a name="l00098"></a><a class="code" href="namespaceSeExpr.html#a1ab0f3b31eefb7bf1e8428ae63eb7e63">00098</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a1ab0f3b31eefb7bf1e8428ae63eb7e63">max_docstring</a>=<span class="stringliteral">&quot;float max(float a,float b)\ngreater of a and b&quot;</span>;
<a name="l00099"></a><a class="code" href="namespaceSeExpr.html#a62564014f857f45bb2fdcbed129337f6">00099</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a62564014f857f45bb2fdcbed129337f6">min_docstring</a>=<span class="stringliteral">&quot;float min(float a,float b)\nlesser of a and b&quot;</span>;
<a name="l00100"></a><a class="code" href="namespaceSeExpr.html#ab49cb6dbf5396eae11b1de380ecb356a">00100</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ab49cb6dbf5396eae11b1de380ecb356a">trunc_docstring</a>=<span class="stringliteral">&quot;float trunc(float a)\nnearest integer towards zero&quot;</span>;
<a name="l00101"></a><a class="code" href="namespaceSeExpr.html#a8cccce4a2ef52bf7bf4809b00ae4b558">00101</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a8cccce4a2ef52bf7bf4809b00ae4b558">floor_docstring</a>=<span class="stringliteral">&quot;float floor(float a)\nnext lower integer&quot;</span>;
<a name="l00102"></a><a class="code" href="namespaceSeExpr.html#a95a7af74e6435b4abfb210d5db7f3850">00102</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a95a7af74e6435b4abfb210d5db7f3850">ceil_docstring</a>=<span class="stringliteral">&quot;float ceil(float a)\nnext higher integer&quot;</span>;
<a name="l00103"></a>00103 <span class="comment">// misc math</span>
<a name="l00104"></a><a class="code" href="namespaceSeExpr.html#a754d7990fa98f5c13463863cb25a581d">00104</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a754d7990fa98f5c13463863cb25a581d">invert_docstring</a>=<span class="stringliteral">&quot;float invert(float a)\nDefined as 1-x&quot;</span>;
<a name="l00105"></a><a class="code" href="namespaceSeExpr.html#ada3918f9f383821fde446957194ea570">00105</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ada3918f9f383821fde446957194ea570">cbrt_docstring</a>=<span class="stringliteral">&quot;float cbrt(float x)\ncube root&quot;</span>;
<a name="l00106"></a><a class="code" href="namespaceSeExpr.html#a556fa6faed4977727da0cd39ae3bf53a">00106</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a556fa6faed4977727da0cd39ae3bf53a">sqrt_docstring</a>=<span class="stringliteral">&quot;float sqrt(float x)\nsquare root&quot;</span>;
<a name="l00107"></a><a class="code" href="namespaceSeExpr.html#a20965a44a9e7b4c89afa1bc75bb8399c">00107</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a20965a44a9e7b4c89afa1bc75bb8399c">exp_docstring</a>=<span class="stringliteral">&quot;float exp(float x)\nE raised to the x power&quot;</span>;
<a name="l00108"></a><a class="code" href="namespaceSeExpr.html#ad5d7f2b0c2ddc9fb4b0ca9fa8fd20cc2">00108</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ad5d7f2b0c2ddc9fb4b0ca9fa8fd20cc2">pow_docstring</a>=<span class="stringliteral">&quot;float pow(float x)\nx to the y power, also available as ^&quot;</span>;
<a name="l00109"></a><a class="code" href="namespaceSeExpr.html#a2ffccf2d04dbeb7e857c85c95d952832">00109</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a2ffccf2d04dbeb7e857c85c95d952832">log_docstring</a>=<span class="stringliteral">&quot;float log(float x)\nNatural logarithm&quot;</span>;
<a name="l00110"></a><a class="code" href="namespaceSeExpr.html#afe39809b5c25474beece2a215646bc55">00110</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#afe39809b5c25474beece2a215646bc55">log10_docstring</a>=<span class="stringliteral">&quot;float log10(float x)\nBase 10 logarithm&quot;</span>;
<a name="l00111"></a><a class="code" href="namespaceSeExpr.html#adde32e59077a52c8c6b6e09aa9aac6f7">00111</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#adde32e59077a52c8c6b6e09aa9aac6f7">fmod_docstring</a>=<span class="stringliteral">&quot;float fmod(float x,float y)\nremainder of x/y (also available as % operator)&quot;</span>;
<a name="l00112"></a><a class="code" href="namespaceSeExpr.html#ab86c49fdf6b07ae8d6aca27966286c09">00112</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ab86c49fdf6b07ae8d6aca27966286c09">turbulence_docstring</a>=<span class="stringliteral">&quot;float turbulence(vector v,int octaves=6,float lacunarity=2,float gain=.5)\nAbsolute value of each noise term is taken. This gives billowy appearance&quot;</span>;
<a name="l00113"></a><a class="code" href="namespaceSeExpr.html#a63f1f7623348f34d96038cec786e282b">00113</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a63f1f7623348f34d96038cec786e282b">cturbulence_docstring</a>=<span class="stringliteral">&quot;color cturbulence(vector v,int octaves=6,float lacunarity=2,float gain=.5)\nAbsolute value of each noise term is taken. This gives billowy appearance&quot;</span>;
<a name="l00114"></a><a class="code" href="namespaceSeExpr.html#ae7abd01de9eda6ccbdff56d80e4cbe62">00114</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ae7abd01de9eda6ccbdff56d80e4cbe62">vturbulence_docstring</a>=<span class="stringliteral">&quot;vector vturbulence(vector v,int octaves=6,float lacunarity=2,float gain=.5)\nAbsolute value of each noise term is taken. This gives billowy appearance&quot;</span>;
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00119"></a>00119     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a8684bf47fbe5d7c31433f8dd3a9f8483">compress</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> lo, <span class="keywordtype">double</span> hi)
<a name="l00120"></a>00120     {
<a name="l00121"></a>00121         <span class="keywordflow">return</span> (hi-lo) * x + lo;
<a name="l00122"></a>00122     }
<a name="l00123"></a><a class="code" href="namespaceSeExpr.html#aeb9a9aff964eeed3bad7b1d47340de72">00123</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#aeb9a9aff964eeed3bad7b1d47340de72">compress_docstring</a>=<span class="stringliteral">&quot;float compress(float x,float lo,float hi)\nRemaps x in [0,1] to [lo,hi]&quot;</span>;
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 
<a name="l00126"></a>00126     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#ab7f826996c6f433c7bba11b5babbdae2">expand</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> lo, <span class="keywordtype">double</span> hi)
<a name="l00127"></a>00127     {
<a name="l00128"></a>00128         <span class="keywordflow">if</span> (lo == hi) <span class="keywordflow">return</span> x &lt; lo ? 0 : 1;
<a name="l00129"></a>00129         <span class="keywordflow">return</span> (x-lo) / (hi-lo);
<a name="l00130"></a>00130     }
<a name="l00131"></a><a class="code" href="namespaceSeExpr.html#a7420635bf74573c95ca68d877517c82f">00131</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a7420635bf74573c95ca68d877517c82f">expand_docstring</a>=<span class="stringliteral">&quot;float expand(float x,float lo,float hi)\nRemaps x in [lo,hi] to [0,1]&quot;</span>;
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 
<a name="l00134"></a>00134     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a5f6622cc67cd201af2059ac25b32a148">fit</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a669df488e82ac8d6904dfe83c4d5e8fb">a1</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#aa4aae430d157f813dfc7d3575e2cd808">b1</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#ab304a2338e16dbc7b86028ecbbcfa544">a2</a>, <span class="keywordtype">double</span> b2)
<a name="l00135"></a>00135     {
<a name="l00136"></a>00136         <span class="keywordflow">return</span> (x*(b2-a2) - a1*b2 + b1*a2) / (b1-a1);
<a name="l00137"></a>00137     }
<a name="l00138"></a><a class="code" href="namespaceSeExpr.html#aa242ecb0f9f5c77c3ad0d89cffad3ad7">00138</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#aa242ecb0f9f5c77c3ad0d89cffad3ad7">fit_docstring</a>=<span class="stringliteral">&quot;float fit(float x,float a1,float b1,float a2,float b2)\nLinearly remaps x in [a1,b1] to [a2,b2]&quot;</span>;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 
<a name="l00142"></a>00142     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#afb0503de98b740f8227a5357862b352b">gamma</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> g)
<a name="l00143"></a>00143     {
<a name="l00144"></a>00144         <span class="keywordflow">return</span> <a class="code" href="userdoc_8txt.html#aad2751df952dcc832c4f3503b2319460">pow</a>(x, 1/g);
<a name="l00145"></a>00145     }
<a name="l00146"></a><a class="code" href="namespaceSeExpr.html#a6732bbc6a02cbe3ef24aee4245a933ba">00146</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a6732bbc6a02cbe3ef24aee4245a933ba">gamma_docstring</a>=<span class="stringliteral">&quot;float gamma(float x, float g)\nGamma correction of x with gamma factor g&quot;</span>;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 
<a name="l00149"></a>00149     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#aaa617ea4ad087954b038ba432ba77dfc">bias</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>)
<a name="l00150"></a>00150     {
<a name="l00151"></a>00151         <span class="keyword">static</span> <span class="keywordtype">double</span> C = 1/log(0.5);
<a name="l00152"></a>00152         <span class="keywordflow">return</span> <a class="code" href="userdoc_8txt.html#aad2751df952dcc832c4f3503b2319460">pow</a>(x, log(b) * C);
<a name="l00153"></a>00153     }
<a name="l00154"></a><a class="code" href="namespaceSeExpr.html#a30525d9a24dffaaa6d6ebb553bf265e8">00154</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a30525d9a24dffaaa6d6ebb553bf265e8">bias_docstring</a>=<span class="stringliteral">&quot;float bias(float x, float g)\nVariation of gamma where values less than 0.5 pull the curve down\nand values greater than 0.5 pull the curve up\npow(x,log(b)/log(0.5))&quot;</span>;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00157"></a>00157     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a951d8d81852bb340a66b63c74ad259b9">contrast</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> c)
<a name="l00158"></a>00158     {
<a name="l00159"></a>00159         <span class="keywordflow">if</span> (x &lt; 0.5) <span class="keywordflow">return</span>     0.5 * <a class="code" href="namespaceSeExpr.html#aaa617ea4ad087954b038ba432ba77dfc">bias</a>(1-c,     2*x);
<a name="l00160"></a>00160         <span class="keywordflow">else</span>     <span class="keywordflow">return</span> 1 - 0.5 * <a class="code" href="namespaceSeExpr.html#aaa617ea4ad087954b038ba432ba77dfc">bias</a>(1-c, 2 - 2*x);
<a name="l00161"></a>00161     }
<a name="l00162"></a><a class="code" href="namespaceSeExpr.html#a186df8af56d8ada0311ae45a54d50c3e">00162</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a186df8af56d8ada0311ae45a54d50c3e">contrast_docstring</a>=<span class="stringliteral">&quot;float contrast(float x,float x)\nAdjust the contrast.&amp;nbsp; For c from 0 to 0.5, the contrast is decreased.&amp;nbsp; For c &amp;gt; 0.5, the contrast is increased.&quot;</span>;
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a3e906ed745e4dedba79d7ec3f3f2c55e">boxstep</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>)
<a name="l00166"></a>00166     {
<a name="l00167"></a>00167         <span class="keywordflow">return</span> x &lt; a ? 0.0 : 1.0;
<a name="l00168"></a>00168     }
<a name="l00169"></a><a class="code" href="namespaceSeExpr.html#a42fd6e984e1f37383cd2b63dd221bb66">00169</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a42fd6e984e1f37383cd2b63dd221bb66">boxstep_docstring</a>=<span class="stringliteral">&quot;float boxstep(float x,float a)\n if x &lt; a then 0 otherwise 1&quot;</span>;
<a name="l00170"></a>00170 
<a name="l00171"></a>00171     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a47674afb68f562b115dbca252abfddfb">linearstep</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>)
<a name="l00172"></a>00172     {
<a name="l00173"></a>00173         <span class="keywordflow">if</span> ( a &lt; b ) {
<a name="l00174"></a>00174             <span class="keywordflow">return</span> x &lt; a ? 0 : ( x &gt; b ? 1 : (x - a)/(b - a) );
<a name="l00175"></a>00175         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a &gt; b) {
<a name="l00176"></a>00176             <span class="keywordflow">return</span> 1 - ( x &lt; b ? 0 : ( x &gt; a ? 1 : (x - b)/(a - b) ) );
<a name="l00177"></a>00177         }
<a name="l00178"></a>00178         <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a3e906ed745e4dedba79d7ec3f3f2c55e">boxstep</a>(x, a);
<a name="l00179"></a>00179     }
<a name="l00180"></a><a class="code" href="namespaceSeExpr.html#a60b83a17371739a256b465540d81fece">00180</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a60b83a17371739a256b465540d81fece">linearstep_docstring</a>=<span class="stringliteral">&quot;float linearstep(float x,float a,float b)\n if x &amp;lt; a then 0, if x &amp;gt; b then 1, and\nx transitions linearly when &amp;lt; x &amp;lt; b &quot;</span>;
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a8230b456b436953200c359b3f656d4bb">smoothstep</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>)
<a name="l00184"></a>00184     {
<a name="l00185"></a>00185         <span class="keywordflow">if</span> ( a &lt; b ) {
<a name="l00186"></a>00186             <span class="keywordflow">if</span> ( x &lt; a ) <span class="keywordflow">return</span> 0;
<a name="l00187"></a>00187             <span class="keywordflow">if</span> ( x &gt;= b ) <span class="keywordflow">return</span> 1;
<a name="l00188"></a>00188             x = (x - a)/(b - a);
<a name="l00189"></a>00189         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a &gt; b) {
<a name="l00190"></a>00190             <span class="keywordflow">if</span> ( x &lt;= b ) <span class="keywordflow">return</span> 1;
<a name="l00191"></a>00191             <span class="keywordflow">if</span> ( x &gt; a ) <span class="keywordflow">return</span> 0;
<a name="l00192"></a>00192             x = 1 - (x - b)/(a - b);
<a name="l00193"></a>00193         }
<a name="l00194"></a>00194         <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a3e906ed745e4dedba79d7ec3f3f2c55e">boxstep</a>(x, a);
<a name="l00195"></a>00195         <span class="keywordflow">return</span> x*x * (3 - 2*x);
<a name="l00196"></a>00196     }
<a name="l00197"></a><a class="code" href="namespaceSeExpr.html#ab1b978d890cc583efa010f493cb0312d">00197</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ab1b978d890cc583efa010f493cb0312d">smoothstep_docstring</a>=<span class="stringliteral">&quot;float smoothstep(float x,float a,float b)\n if x &amp;lt; a then 0, if x &amp;gt; b then 1, and\nx transitions smoothly (cubic) when &amp;lt; x &amp;lt; b&quot;</span>;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#af6f746ed74374c43677f18d226cb053f">gaussstep</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>)
<a name="l00201"></a>00201     {
<a name="l00202"></a>00202         <span class="keywordflow">if</span> (a &lt; b) {
<a name="l00203"></a>00203             <span class="keywordflow">if</span> ( x &lt; a ) <span class="keywordflow">return</span> 0;
<a name="l00204"></a>00204             <span class="keywordflow">if</span> ( x &gt;= b ) <span class="keywordflow">return</span> 1;
<a name="l00205"></a>00205             x = 1 - (x - a)/(b - a);
<a name="l00206"></a>00206         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a &gt; b) {
<a name="l00207"></a>00207             <span class="keywordflow">if</span> ( x &lt;= b ) <span class="keywordflow">return</span> 1;
<a name="l00208"></a>00208             <span class="keywordflow">if</span> ( x &gt; a ) <span class="keywordflow">return</span> 0;
<a name="l00209"></a>00209             x = (x - b)/(a - b);
<a name="l00210"></a>00210         }
<a name="l00211"></a>00211         <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a3e906ed745e4dedba79d7ec3f3f2c55e">boxstep</a>(x, a);
<a name="l00212"></a>00212         <span class="keywordflow">return</span> <a class="code" href="userdoc_8txt.html#aad2751df952dcc832c4f3503b2319460">pow</a>(2, -8*x*x);
<a name="l00213"></a>00213     }
<a name="l00214"></a><a class="code" href="namespaceSeExpr.html#a294146a1c5e8caece81d205f54a3c75c">00214</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a294146a1c5e8caece81d205f54a3c75c">gaussstep_docstring</a>=<span class="stringliteral">&quot;float gasussstep(float x,float a,float b)\n if x &amp;lt; a then 0, if x &amp;gt; b then 1, and\nx transitions smoothly (exponentially) when &amp;lt; x &amp;lt; b&quot;</span>;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 
<a name="l00218"></a><a class="code" href="namespaceSeExpr.html#a377df998c2d0d41719f45d8ab8200291">00218</a>     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a377df998c2d0d41719f45d8ab8200291">remap</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a25444354d5d93d2459e00785a36b4971">source</a>, <span class="keywordtype">double</span> range, <span class="keywordtype">double</span> falloff,
<a name="l00219"></a>00219                  <span class="keywordtype">double</span> interp)
<a name="l00220"></a>00220     {
<a name="l00221"></a>00221         range = fabs(range);
<a name="l00222"></a>00222         falloff = fabs(falloff);
<a name="l00223"></a>00223 
<a name="l00224"></a>00224         <span class="keywordflow">if</span> (falloff == 0) <span class="keywordflow">return</span> fabs(x-source) &lt; range;
<a name="l00225"></a>00225 
<a name="l00226"></a>00226         <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>;
<a name="l00227"></a>00227         <span class="keywordflow">if</span> (x &gt; source) { a = source + range; b = a + falloff; }
<a name="l00228"></a>00228         <span class="keywordflow">else</span>            { a = source - range; b = a - falloff; }
<a name="l00229"></a>00229 
<a name="l00230"></a>00230         <span class="keywordflow">switch</span> (<span class="keywordtype">int</span>(interp)) {
<a name="l00231"></a>00231         <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a47674afb68f562b115dbca252abfddfb">linearstep</a>(x, b, a);
<a name="l00232"></a>00232         <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a8230b456b436953200c359b3f656d4bb">smoothstep</a>(x, b, a);
<a name="l00233"></a>00233         <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#af6f746ed74374c43677f18d226cb053f">gaussstep</a>(x, b, a);
<a name="l00234"></a>00234         }
<a name="l00235"></a>00235     }
<a name="l00236"></a><a class="code" href="namespaceSeExpr.html#a81efccea536ef0556cc29e980de4098d">00236</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a81efccea536ef0556cc29e980de4098d">remap_docstring</a>=
<a name="l00237"></a>00237         <span class="stringliteral">&quot;remap(float x, float\n&quot;</span>
<a name="l00238"></a>00238         <span class="stringliteral">&quot;source, float range, float falloff, int interp)\nGeneral remapping function.\n&quot;</span>
<a name="l00239"></a>00239         <span class="stringliteral">&quot;When x is within +/- &lt;i&gt;range&lt;/i&gt; of source, the result is one.\n&quot;</span>
<a name="l00240"></a>00240         <span class="stringliteral">&quot;The result falls to zero beyond that range over &lt;i&gt;falloff&lt;/i&gt; distance.\n&quot;</span>
<a name="l00241"></a>00241         <span class="stringliteral">&quot;The falloff shape is controlled by &lt;i&gt;interp&lt;/i&gt;. Numeric values\n&quot;</span>
<a name="l00242"></a>00242         <span class="stringliteral">&quot;or named constants may be used:\n&quot;</span>
<a name="l00243"></a>00243         <span class="stringliteral">&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;int &lt;b&gt;linear&lt;/b&gt;\n&quot;</span>
<a name="l00244"></a>00244         <span class="stringliteral">&quot;= 0\n&quot;</span>
<a name="l00245"></a>00245         <span class="stringliteral">&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;int &lt;b&gt;smooth&lt;/b&gt; = 1\n&quot;</span>
<a name="l00246"></a>00246         <span class="stringliteral">&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;int &lt;b&gt;gaussian&lt;/b&gt; = 2\n&quot;</span>;
<a name="l00247"></a>00247 
<a name="l00248"></a>00248     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a969ada60006dddbd09c7c7f2262ea29c">mix</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#ac2ae9ce22cb3da03dc31d9f723d55fff">y</a>, <span class="keywordtype">double</span> alpha)
<a name="l00249"></a>00249     {
<a name="l00250"></a>00250         <span class="keywordflow">return</span> x * (1-alpha) + y * alpha;
<a name="l00251"></a>00251     }
<a name="l00252"></a><a class="code" href="namespaceSeExpr.html#a8821fb19bdb4b795297badd28bb74a62">00252</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a8821fb19bdb4b795297badd28bb74a62">mix_docstring</a>=<span class="stringliteral">&quot;mix(float a,float b,float alpha)\nBlend of a and b according to alpha.&quot;</span>;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 
<a name="l00255"></a><a class="code" href="namespaceSeExpr.html#a9b1dfc660ceac736ed8aa65e46f619a7">00255</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a9b1dfc660ceac736ed8aa65e46f619a7">hsiAdjust</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; rgb, <span class="keywordtype">double</span> h, <span class="keywordtype">double</span> s, <span class="keywordtype">double</span> i)
<a name="l00256"></a>00256     {
<a name="l00257"></a>00257         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> hsl = <a class="code" href="namespaceSeExpr.html#afe3557be1af2ff5d1e5cbf16a8f038e8">rgbtohsl</a>(rgb);
<a name="l00258"></a>00258         hsl[0] += h * (1.0/360);
<a name="l00259"></a>00259         hsl[1] *= s;
<a name="l00260"></a>00260         <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a30eb3fb9cedcab9922551d3363305a7b">hsltorgb</a>(hsl) * i;
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 
<a name="l00264"></a>00264     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#aa5cc1eda2a938e06d29b5cb71c57689c">hsi</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00265"></a>00265     {
<a name="l00266"></a>00266         <span class="keywordflow">if</span> (n &lt; 4) <span class="keywordflow">return</span> 0.0;
<a name="l00267"></a>00267 
<a name="l00268"></a>00268         <span class="keywordtype">double</span> h = args[1][0];
<a name="l00269"></a>00269         <span class="keywordtype">double</span> s = args[2][0];
<a name="l00270"></a>00270         <span class="keywordtype">double</span> i = args[3][0];
<a name="l00271"></a>00271         <span class="keywordflow">if</span> (n &gt;= 5) {
<a name="l00272"></a>00272             <span class="comment">// apply mask</span>
<a name="l00273"></a>00273             <span class="keywordtype">double</span> m = args[4][0];
<a name="l00274"></a>00274             h *= m;
<a name="l00275"></a>00275             s = (s - 1) * m + 1;
<a name="l00276"></a>00276             i = (i - 1) * m + 1;
<a name="l00277"></a>00277         }
<a name="l00278"></a>00278         <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a9b1dfc660ceac736ed8aa65e46f619a7">hsiAdjust</a>(args[0], h, s, i);
<a name="l00279"></a>00279     }
<a name="l00280"></a><a class="code" href="namespaceSeExpr.html#a227eb77110813ef881df26854cc5d040">00280</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a227eb77110813ef881df26854cc5d040">hsi_docstring</a>=
<a name="l00281"></a>00281         <span class="stringliteral">&quot;color  hsi(color x, float h, float s, float i, float map=1)\n&quot;</span>
<a name="l00282"></a>00282         <span class="stringliteral">&quot;The hsi function shifts the hue by h\n&quot;</span>
<a name="l00283"></a>00283         <span class="stringliteral">&quot;(in degrees) and scales the saturation and intensity by s and i\n&quot;</span>
<a name="l00284"></a>00284         <span class="stringliteral">&quot;respectively.&amp;nbsp; An map may be supplied which will control the shift\n&quot;</span>
<a name="l00285"></a>00285         <span class="stringliteral">&quot;- the full shift will happen when the map is one and no shift will\n&quot;</span>
<a name="l00286"></a>00286         <span class="stringliteral">&quot;happen when the map is zero.&amp;nbsp; The shift will be scaled back for\n&quot;</span>
<a name="l00287"></a>00287         <span class="stringliteral">&quot;values between zero and one.&quot;</span>;
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 
<a name="l00291"></a>00291     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a5b413e2f3784e2cae1e32d202634ff79">midhsi</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00292"></a>00292     {
<a name="l00293"></a>00293         <span class="keywordflow">if</span> (n &lt; 4) <span class="keywordflow">return</span> 0.0;
<a name="l00294"></a>00294 
<a name="l00295"></a>00295         <span class="keywordtype">double</span> h = args[1][0];
<a name="l00296"></a>00296         <span class="keywordtype">double</span> s = args[2][0];
<a name="l00297"></a>00297         <span class="keywordtype">double</span> i = args[3][0];
<a name="l00298"></a>00298         <span class="keywordflow">if</span> (n &gt;= 5) {
<a name="l00299"></a>00299             <span class="comment">// apply mask</span>
<a name="l00300"></a>00300             <span class="keywordtype">double</span> m = args[4][0];
<a name="l00301"></a>00301             <span class="comment">// remap from [0..1] to [-1..1]</span>
<a name="l00302"></a>00302             m = m * 2 - 1; 
<a name="l00303"></a>00303             <span class="comment">// add falloff (if specified)</span>
<a name="l00304"></a>00304             <span class="keywordtype">double</span> falloff = 1, interp = 0;
<a name="l00305"></a>00305             <span class="keywordflow">if</span> (n &gt;= 6) falloff = args[5][0];
<a name="l00306"></a>00306             <span class="keywordflow">if</span> (n &gt;= 7) interp = args[6][0];
<a name="l00307"></a>00307             <span class="keywordflow">if</span> (m &lt; 0) m = -<a class="code" href="namespaceSeExpr.html#a377df998c2d0d41719f45d8ab8200291">remap</a>(-m, 1, 0, falloff, interp);
<a name="l00308"></a>00308             <span class="keywordflow">else</span>       m =  <a class="code" href="namespaceSeExpr.html#a377df998c2d0d41719f45d8ab8200291">remap</a>( m, 1, 0, falloff, interp);
<a name="l00309"></a>00309                 
<a name="l00310"></a>00310             <span class="comment">// scale hsi values according to mask (both directions)</span>
<a name="l00311"></a>00311             h *= m;
<a name="l00312"></a>00312             <span class="keywordtype">float</span> absm = fabs(m);
<a name="l00313"></a>00313             s = s * absm + 1 - absm;
<a name="l00314"></a>00314             i = i * absm + 1 - absm;
<a name="l00315"></a>00315             <span class="keywordflow">if</span> (m &lt; 0) {
<a name="l00316"></a>00316                 s = 1/s;
<a name="l00317"></a>00317                 i = 1/i;
<a name="l00318"></a>00318             }
<a name="l00319"></a>00319         }
<a name="l00320"></a>00320         <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a9b1dfc660ceac736ed8aa65e46f619a7">hsiAdjust</a>(args[0], h, s, i);
<a name="l00321"></a>00321     }
<a name="l00322"></a><a class="code" href="namespaceSeExpr.html#a8ce74ed9ce277542716ce937215ed726">00322</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a8ce74ed9ce277542716ce937215ed726">midhsi_docstring</a>=
<a name="l00323"></a>00323         <span class="stringliteral">&quot;color midhsi(color x, float h, float s, float i, float map, float falloff=1, int interp=0)\n&quot;</span>
<a name="l00324"></a>00324         <span class="stringliteral">&quot;The midhsi function is just like the hsi function except that\n&quot;</span>
<a name="l00325"></a>00325         <span class="stringliteral">&quot;the control map is centered around the mid point (value of 0.5)\n&quot;</span>
<a name="l00326"></a>00326         <span class="stringliteral">&quot;and can scale the shift in both directions.&quot;</span>;
<a name="l00327"></a>00327         
<a name="l00328"></a>00328     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#afe3557be1af2ff5d1e5cbf16a8f038e8">rgbtohsl</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; rgb) 
<a name="l00329"></a>00329     {
<a name="l00330"></a>00330         <span class="comment">// RGB to HSL color space conversion</span>
<a name="l00331"></a>00331         <span class="comment">// This is based on Foley, Van Dam (2nd ed; p. 595)</span>
<a name="l00332"></a>00332         <span class="comment">// but extended to allow rgb values outside of 0..1</span>
<a name="l00333"></a>00333         <span class="keywordtype">double</span> R,G,B,H,S,L,<a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>,<a class="code" href="userdoc_8txt.html#ac2ae9ce22cb3da03dc31d9f723d55fff">y</a>,sum,diff;
<a name="l00334"></a>00334         R = rgb[0]; G = rgb[1]; B = rgb[2];
<a name="l00335"></a>00335         x = R&lt;G? (R&lt;B? R:B) : (G&lt;B? G:B); <span class="comment">// min(R,G,B)</span>
<a name="l00336"></a>00336         y = R&gt;G? (R&gt;B? R:B) : (G&gt;B? G:B); <span class="comment">// max(R,G,B)</span>
<a name="l00337"></a>00337 
<a name="l00338"></a>00338         <span class="comment">// compute lightness = avg of min and max rgb vals</span>
<a name="l00339"></a>00339         sum = x+y; diff = y-x;
<a name="l00340"></a>00340         L = sum/2;
<a name="l00341"></a>00341         <span class="keywordflow">if</span> (diff &lt; 1e-6) <span class="comment">// achromatic</span>
<a name="l00342"></a>00342             <span class="keywordflow">return</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>(0,0,L);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344         <span class="comment">// compute saturation</span>
<a name="l00345"></a>00345         <span class="keywordflow">if</span> (L &lt;= .5) {
<a name="l00346"></a>00346             <span class="keywordflow">if</span> (x &lt; 0) S = 1-x;
<a name="l00347"></a>00347             <span class="keywordflow">else</span>       S = diff/sum;
<a name="l00348"></a>00348         } <span class="keywordflow">else</span> {
<a name="l00349"></a>00349             <span class="keywordflow">if</span> (y &gt; 1) S = y;
<a name="l00350"></a>00350             <span class="keywordflow">else</span>       S = diff/(2-sum);
<a name="l00351"></a>00351         }
<a name="l00352"></a>00352 
<a name="l00353"></a>00353         <span class="comment">// compute hue</span>
<a name="l00354"></a>00354         <span class="keywordflow">if</span>      (R == y)  H = (G - B) / diff;
<a name="l00355"></a>00355         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (G == y)  H = (B - R) / diff + 2;
<a name="l00356"></a>00356         <span class="keywordflow">else</span>              H = (R - G) / diff + 4;
<a name="l00357"></a>00357         H *= 1/6.;
<a name="l00358"></a>00358         H -= floor(H); <span class="comment">// make sure hue is in range 0..1</span>
<a name="l00359"></a>00359 
<a name="l00360"></a>00360         <span class="keywordflow">return</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>(H,S,L);
<a name="l00361"></a>00361     }
<a name="l00362"></a><a class="code" href="namespaceSeExpr.html#a7e764b6b6654911f70c0e78e1b918969">00362</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a7e764b6b6654911f70c0e78e1b918969">rgbtohsl_docstring</a>=
<a name="l00363"></a>00363         <span class="stringliteral">&quot;color rgbtohsl(color rgb)\n&quot;</span>
<a name="l00364"></a>00364         <span class="stringliteral">&quot;RGB to HSL color space conversion.\n&quot;</span>
<a name="l00365"></a>00365         <span class="stringliteral">&quot;HSL is Hue, Saturation, Lightness (all in range [0..1] )\n&quot;</span>
<a name="l00366"></a>00366         <span class="stringliteral">&quot;These functions have also been extended to support rgb and hsl values\n&quot;</span>
<a name="l00367"></a>00367         <span class="stringliteral">&quot;outside of the range [0..1] in a reasonable way.&amp;nbsp; For any rgb or\n&quot;</span>
<a name="l00368"></a>00368         <span class="stringliteral">&quot;hsl value (except for negative s values), the conversion is\n&quot;</span>
<a name="l00369"></a>00369         <span class="stringliteral">&quot;well-defined and reversible.&quot;</span>;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 
<a name="l00372"></a><a class="code" href="namespaceSeExpr.html#acbccf07f4ba6f0b6e37575a8ae52494a">00372</a>     <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#acbccf07f4ba6f0b6e37575a8ae52494a">hslvalue</a>(<span class="keywordtype">double</span> <a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#ac2ae9ce22cb3da03dc31d9f723d55fff">y</a>, <span class="keywordtype">double</span> H)
<a name="l00373"></a>00373     {
<a name="l00374"></a>00374         H -= floor(H); <span class="comment">// make sure hue is in range 0..1</span>
<a name="l00375"></a>00375 
<a name="l00376"></a>00376         <span class="keywordflow">if</span>      (H &lt; 1/6.) <span class="keywordflow">return</span> x+(y-x)*H*6;
<a name="l00377"></a>00377         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (H &lt; 3/6.) <span class="keywordflow">return</span> y;
<a name="l00378"></a>00378         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (H &lt; 4/6.) <span class="keywordflow">return</span> x+(y-x)*(4/6.-H)*6;
<a name="l00379"></a>00379         <span class="keywordflow">else</span>               <span class="keywordflow">return</span> x;
<a name="l00380"></a>00380     }
<a name="l00381"></a>00381 
<a name="l00382"></a>00382 
<a name="l00383"></a>00383     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a30eb3fb9cedcab9922551d3363305a7b">hsltorgb</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; hsl) 
<a name="l00384"></a>00384     {
<a name="l00385"></a>00385         <span class="comment">// HSL to RGB color space conversion</span>
<a name="l00386"></a>00386         <span class="comment">// This is based on Foley, Van Dam (2nd ed; p. 596)</span>
<a name="l00387"></a>00387         <span class="comment">// but extended to allow rgb values outside of 0..1</span>
<a name="l00388"></a>00388         <span class="keywordtype">double</span> H,S,L,R,G,B,<a class="code" href="tutorial_8txt.html#afd9f706951a7ad3a62bdf31ef35789ea">x</a>,<a class="code" href="userdoc_8txt.html#ac2ae9ce22cb3da03dc31d9f723d55fff">y</a>;
<a name="l00389"></a>00389         H = hsl[0]; S = hsl[1]; L = hsl[2];
<a name="l00390"></a>00390         <span class="keywordflow">if</span> (S &lt;= 0)  <span class="comment">// achromatic</span>
<a name="l00391"></a>00391             <span class="keywordflow">return</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>(L,L,L);
<a name="l00392"></a>00392 
<a name="l00393"></a>00393         <span class="comment">// find min/max rgb values</span>
<a name="l00394"></a>00394         <span class="keywordflow">if</span> (L &lt; 0.5) {
<a name="l00395"></a>00395             <span class="keywordflow">if</span> (S &gt; 1) y = 2*L + S - 1;
<a name="l00396"></a>00396             <span class="keywordflow">else</span>       y = L + L*S;
<a name="l00397"></a>00397         } <span class="keywordflow">else</span> {
<a name="l00398"></a>00398             <span class="keywordflow">if</span> (S &gt; 1) y = S;
<a name="l00399"></a>00399             <span class="keywordflow">else</span>       y = L + S - L*S;
<a name="l00400"></a>00400         }
<a name="l00401"></a>00401         x = 2*L-y;
<a name="l00402"></a>00402 
<a name="l00403"></a>00403         <span class="comment">// reconstruct rgb from min,max,hue</span>
<a name="l00404"></a>00404         R = <a class="code" href="namespaceSeExpr.html#acbccf07f4ba6f0b6e37575a8ae52494a">hslvalue</a>(x,y,H+(1/3.));
<a name="l00405"></a>00405         G = <a class="code" href="namespaceSeExpr.html#acbccf07f4ba6f0b6e37575a8ae52494a">hslvalue</a>(x,y,H);
<a name="l00406"></a>00406         B = <a class="code" href="namespaceSeExpr.html#acbccf07f4ba6f0b6e37575a8ae52494a">hslvalue</a>(x,y,H-(1/3.));
<a name="l00407"></a>00407         <span class="keywordflow">return</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>(R,G,B);
<a name="l00408"></a>00408     }
<a name="l00409"></a><a class="code" href="namespaceSeExpr.html#a9071906ec464cb94c0849b3bd976d48c">00409</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a9071906ec464cb94c0849b3bd976d48c">hsltorgb_docstring</a>=
<a name="l00410"></a>00410         <span class="stringliteral">&quot;color hsltorgb(color hsl)\n&quot;</span>
<a name="l00411"></a>00411         <span class="stringliteral">&quot;RGB to HSL color space conversion.\n&quot;</span>
<a name="l00412"></a>00412         <span class="stringliteral">&quot;HSL is Hue, Saturation, Lightness (all in range [0..1] )\n&quot;</span>
<a name="l00413"></a>00413         <span class="stringliteral">&quot;These functions have also been extended to support rgb and hsl values\n&quot;</span>
<a name="l00414"></a>00414         <span class="stringliteral">&quot;outside of the range [0..1] in a reasonable way.&amp;nbsp; For any rgb or\n&quot;</span>
<a name="l00415"></a>00415         <span class="stringliteral">&quot;hsl value (except for negative s values), the conversion is\n&quot;</span>
<a name="l00416"></a>00416         <span class="stringliteral">&quot;well-defined and reversible.&quot;</span>;
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 
<a name="l00419"></a>00419     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a74fc283df3c246302b37ddbf9c257f44">hash</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">double</span>* args)
<a name="l00420"></a>00420     {
<a name="l00421"></a>00421         <span class="comment">// combine args into a single seed</span>
<a name="l00422"></a>00422         uint32_t seed = 0;
<a name="l00423"></a>00423         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++) {
<a name="l00424"></a>00424             <span class="comment">// make irrational to generate fraction and combine xor into 32 bits</span>
<a name="l00425"></a>00425             <span class="keywordtype">int</span> exp;
<a name="l00426"></a>00426             <span class="keywordtype">double</span> frac = frexp(args[i] * (M_E*M_PI), &amp;exp);
<a name="l00427"></a>00427             uint32_t s = (uint32_t) (frac * UINT32_MAX) ^ (uint32_t) exp;
<a name="l00428"></a>00428 
<a name="l00429"></a>00429             <span class="comment">// blend with seed (constants from Numerical Recipes, attrib. from Knuth)</span>
<a name="l00430"></a>00430             <span class="keyword">static</span> <span class="keyword">const</span> uint32_t M = 1664525, C = 1013904223;
<a name="l00431"></a>00431             seed = seed * M + s + C;
<a name="l00432"></a>00432         }
<a name="l00433"></a>00433 
<a name="l00434"></a>00434         <span class="comment">// tempering (from Matsumoto)</span>
<a name="l00435"></a>00435         seed ^= (seed &gt;&gt; 11);
<a name="l00436"></a>00436         seed ^= (seed &lt;&lt; 7) &amp; 0x9d2c5680UL;
<a name="l00437"></a>00437         seed ^= (seed &lt;&lt; 15) &amp; 0xefc60000UL;
<a name="l00438"></a>00438         seed ^= (seed &gt;&gt; 18);
<a name="l00439"></a>00439 
<a name="l00440"></a>00440         <span class="comment">// permute </span>
<a name="l00441"></a>00441         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="SeNoiseTables_8h.html#aefbb2f7167a298e4d0197dfbea9e1a54">p</a>[256] = {
<a name="l00442"></a>00442             148,201,203,34,85,225,163,200,174,137,51,24,19,252,107,173,
<a name="l00443"></a>00443             110,251,149,69,180,152,141,132,22,20,147,219,37,46,154,114,
<a name="l00444"></a>00444             59,49,155,161,239,77,47,10,70,227,53,235,30,188,143,73,
<a name="l00445"></a>00445             88,193,214,194,18,120,176,36,212,84,211,142,167,57,153,71,
<a name="l00446"></a>00446             159,151,126,115,229,124,172,101,79,183,32,38,68,11,67,109,
<a name="l00447"></a>00447             221,3,4,61,122,94,72,117,12,240,199,76,118,5,48,197,
<a name="l00448"></a>00448             128,62,119,89,14,45,226,195,80,50,40,192,60,65,166,106,
<a name="l00449"></a>00449             90,215,213,232,250,207,104,52,182,29,157,103,242,97,111,17,
<a name="l00450"></a>00450             8,175,254,108,208,224,191,112,105,187,43,56,185,243,196,156,
<a name="l00451"></a>00451             246,249,184,7,135,6,158,82,130,234,206,255,160,236,171,230,
<a name="l00452"></a>00452             42,98,54,74,209,205,33,177,15,138,178,44,116,96,140,253,
<a name="l00453"></a>00453             233,125,21,133,136,86,245,58,23,1,75,165,92,217,39,0,
<a name="l00454"></a>00454             218,91,179,55,238,170,134,83,25,189,216,100,129,150,241,210,
<a name="l00455"></a>00455             123,99,2,164,16,220,121,139,168,64,190,9,31,228,95,247,
<a name="l00456"></a>00456             244,81,102,145,204,146,26,87,113,198,181,127,237,169,28,93,
<a name="l00457"></a>00457             27,41,231,248,78,162,13,186,63,66,131,202,35,144,222,223};
<a name="l00458"></a>00458         <span class="keyword">union </span>{
<a name="l00459"></a>00459             uint32_t i;
<a name="l00460"></a>00460             <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c[4];
<a name="l00461"></a>00461         } u1, u2;
<a name="l00462"></a>00462         u1.i = seed;
<a name="l00463"></a>00463         u2.c[3] = p[u1.c[0]];
<a name="l00464"></a>00464         u2.c[2] = p[(u1.c[1]+u2.c[3])&amp;0xff];
<a name="l00465"></a>00465         u2.c[1] = p[(u1.c[2]+u2.c[2])&amp;0xff];
<a name="l00466"></a>00466         u2.c[0] = p[(u1.c[3]+u2.c[1])&amp;0xff];
<a name="l00467"></a>00467 
<a name="l00468"></a>00468         <span class="comment">// scale to [0.0 .. 1.0]</span>
<a name="l00469"></a>00469         <span class="keywordflow">return</span> u2.i * (1.0/UINT32_MAX);
<a name="l00470"></a>00470     }
<a name="l00471"></a><a class="code" href="namespaceSeExpr.html#a6c86ddb6ae98ce1d50e1faef704b9b51">00471</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a6c86ddb6ae98ce1d50e1faef704b9b51">hash_docstring</a>=
<a name="l00472"></a>00472         <span class="stringliteral">&quot;float hash(float seed1,[float seed2, ...])\n&quot;</span>
<a name="l00473"></a>00473         <span class="stringliteral">&quot;Like rand, but with no internal seeds. Any number of seeds may be given\n&quot;</span>
<a name="l00474"></a>00474         <span class="stringliteral">&quot;and the result will be a random function based on all the seeds.&quot;</span>;
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 
<a name="l00477"></a>00477     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a85ea24a3c820f5e7c1ec70ae94e761c8">noise</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00478"></a>00478     {
<a name="l00479"></a>00479         <span class="keywordflow">if</span> (n &lt; 1) <span class="keywordflow">return</span> 0;
<a name="l00480"></a>00480         <span class="keywordflow">if</span> (n == 1) { 
<a name="l00481"></a>00481             <span class="comment">// 1 arg = vector arg</span>
<a name="l00482"></a>00482             <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00483"></a>00483             <span class="keywordtype">double</span> <a class="code" href="SeNoiseTables_8h.html#aefbb2f7167a298e4d0197dfbea9e1a54">p</a>[3] = { args[0][0], args[0][1], args[0][2] };
<a name="l00484"></a>00484             Noise&lt;3,1&gt;(p,&amp;result);
<a name="l00485"></a>00485             <span class="keywordflow">return</span> .5*result+.5;
<a name="l00486"></a>00486         }
<a name="l00487"></a>00487         <span class="comment">// scalar args</span>
<a name="l00488"></a>00488         <span class="keywordflow">if</span> (n &gt; 4) n = 4;
<a name="l00489"></a>00489         <span class="keywordtype">double</span> <a class="code" href="SeNoiseTables_8h.html#aefbb2f7167a298e4d0197dfbea9e1a54">p</a>[4];
<a name="l00490"></a>00490         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++) p[i] = args[i][0];
<a name="l00491"></a>00491         <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00492"></a>00492         <span class="keywordflow">switch</span>(n){
<a name="l00493"></a>00493             <span class="keywordflow">case</span> 1: Noise&lt;1,1&gt;(p,&amp;result);<span class="keywordflow">break</span>;
<a name="l00494"></a>00494             <span class="keywordflow">case</span> 2: Noise&lt;2,1&gt;(p,&amp;result);<span class="keywordflow">break</span>;
<a name="l00495"></a>00495             <span class="keywordflow">case</span> 3: Noise&lt;3,1&gt;(p,&amp;result);<span class="keywordflow">break</span>;
<a name="l00496"></a>00496             <span class="keywordflow">case</span> 4: Noise&lt;4,1&gt;(p,&amp;result);<span class="keywordflow">break</span>;
<a name="l00497"></a>00497             <span class="keywordflow">default</span>: result=0;<span class="keywordflow">break</span>;
<a name="l00498"></a>00498         }
<a name="l00499"></a>00499         <span class="keywordflow">return</span> .5*result+.5;
<a name="l00500"></a>00500     }
<a name="l00501"></a><a class="code" href="namespaceSeExpr.html#a348bfcfbd3717f86f3c455632e28e3ad">00501</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a348bfcfbd3717f86f3c455632e28e3ad">noise_docstring</a>=
<a name="l00502"></a>00502         <span class="stringliteral">&quot;float noise ( vector v ) &lt;br&gt;\n&quot;</span>
<a name="l00503"></a>00503         <span class="stringliteral">&quot;float noise ( float x, float y )\n&quot;</span>
<a name="l00504"></a>00504         <span class="stringliteral">&quot;float noise ( float x, float y, float z )\n&quot;</span>
<a name="l00505"></a>00505         <span class="stringliteral">&quot;float noise ( float x, float y, float z, float w )\n&quot;</span>
<a name="l00506"></a>00506         <span class="stringliteral">&quot;Original perlin noise at location (C2 interpolant)&quot;</span>;
<a name="l00507"></a>00507 
<a name="l00508"></a>00508     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a7102d1b25640067230e4fc70f91900b8">snoise</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="SeNoiseTables_8h.html#aefbb2f7167a298e4d0197dfbea9e1a54">p</a>)
<a name="l00509"></a>00509     {
<a name="l00510"></a>00510         <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00511"></a>00511         <span class="keywordtype">double</span> args[3] = { p[0], p[1], p[2] };
<a name="l00512"></a>00512         Noise&lt;3,1&gt;(args,&amp;result);
<a name="l00513"></a>00513         <span class="keywordflow">return</span> result;
<a name="l00514"></a>00514     }
<a name="l00515"></a><a class="code" href="namespaceSeExpr.html#a3c60d12dda81787a6ac7625cd0be5bda">00515</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a3c60d12dda81787a6ac7625cd0be5bda">snoise_docstring</a>=
<a name="l00516"></a>00516         <span class="stringliteral">&quot;float snoise ( vector v)\n&quot;</span>
<a name="l00517"></a>00517         <span class="stringliteral">&quot;signed noise w/ range -1 to 1 formed with original perlin noise at location (C2 interpolant)&quot;</span>;
<a name="l00518"></a>00518 
<a name="l00519"></a>00519 
<a name="l00520"></a>00520     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#aeba0742eceb82787743b21c3727f7197">vnoise</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="SeNoiseTables_8h.html#aefbb2f7167a298e4d0197dfbea9e1a54">p</a>)
<a name="l00521"></a>00521     {
<a name="l00522"></a>00522         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00523"></a>00523         <span class="keywordtype">double</span> args[3] = { p[0], p[1], p[2] };
<a name="l00524"></a>00524         Noise&lt;3,3&gt;(args,&amp;result[0]);
<a name="l00525"></a>00525         <span class="keywordflow">return</span> result;
<a name="l00526"></a>00526     }
<a name="l00527"></a><a class="code" href="namespaceSeExpr.html#a75ed2569a06499a64a8029b467a038f4">00527</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a75ed2569a06499a64a8029b467a038f4">vnoise_docstring</a>=
<a name="l00528"></a>00528         <span class="stringliteral">&quot;vector vnoise ( vector v)\n&quot;</span>
<a name="l00529"></a>00529         <span class="stringliteral">&quot;vector noise formed with original perlin noise at location (C2 interpolant)&quot;</span>;
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 
<a name="l00532"></a>00532     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a5279580b80dbe3be27fc9440d0ec7cb6">cnoise</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="SeNoiseTables_8h.html#aefbb2f7167a298e4d0197dfbea9e1a54">p</a>)
<a name="l00533"></a>00533     {
<a name="l00534"></a>00534         <span class="keywordflow">return</span> .5*<a class="code" href="namespaceSeExpr.html#aeba0742eceb82787743b21c3727f7197">vnoise</a>(p)+.5;
<a name="l00535"></a>00535     }
<a name="l00536"></a><a class="code" href="namespaceSeExpr.html#a93a6704f46fedf22d64b7ef291fc1062">00536</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a93a6704f46fedf22d64b7ef291fc1062">cnoise_docstring</a>=<span class="stringliteral">&quot;color cnoise ( vector v)\n&quot;</span>
<a name="l00537"></a>00537         <span class="stringliteral">&quot;color noise formed with original perlin noise at location (C2 interpolant)&quot;</span>;
<a name="l00538"></a>00538 
<a name="l00539"></a><a class="code" href="namespaceSeExpr.html#ab6b9f9bc3e0fa0091ad22cba738679b2">00539</a>     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#ab6b9f9bc3e0fa0091ad22cba738679b2">snoise4</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00540"></a>00540     {
<a name="l00541"></a>00541         <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00542"></a>00542         <span class="keywordtype">double</span> procargs[4] = { args[0][0], args[0][1], args[0][2], args[1][0] };
<a name="l00543"></a>00543         Noise&lt;4,1&gt;(procargs,&amp;result);
<a name="l00544"></a>00544         <span class="keywordflow">return</span> result;
<a name="l00545"></a>00545     }
<a name="l00546"></a><a class="code" href="namespaceSeExpr.html#a4567b1e16003d8dee025d93897926c08">00546</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a4567b1e16003d8dee025d93897926c08">snoise4_docstring</a>=<span class="stringliteral">&quot;float snoise4 ( vector v,float t)\n&quot;</span>
<a name="l00547"></a>00547         <span class="stringliteral">&quot;4D signed noise w/ range -1 to 1 formed with original perlin noise at location (C2 interpolant)&quot;</span>;
<a name="l00548"></a>00548 
<a name="l00549"></a>00549 
<a name="l00550"></a><a class="code" href="namespaceSeExpr.html#ae1adee7fe60357d938c72c90ca8ef21f">00550</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#ae1adee7fe60357d938c72c90ca8ef21f">vnoise4</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00551"></a>00551     {
<a name="l00552"></a>00552         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00553"></a>00553         <span class="keywordtype">double</span> procargs[4] = { args[0][0], args[0][1], args[0][2], args[1][0] };
<a name="l00554"></a>00554         Noise&lt;4,3&gt;(procargs,&amp;result[0]);
<a name="l00555"></a>00555         <span class="keywordflow">return</span> result;
<a name="l00556"></a>00556     }
<a name="l00557"></a><a class="code" href="namespaceSeExpr.html#a805b9e8243d3988d5bfda5612828e924">00557</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a805b9e8243d3988d5bfda5612828e924">vnoise4_docstring</a>=<span class="stringliteral">&quot;vector vnoise4 ( vector v,float t)\n&quot;</span>
<a name="l00558"></a>00558         <span class="stringliteral">&quot;4D vector noise formed with original perlin noise at location (C2 interpolant)&quot;</span>;
<a name="l00559"></a>00559 
<a name="l00560"></a>00560 
<a name="l00561"></a><a class="code" href="namespaceSeExpr.html#a271f258c50ce26f0efd6f374072b68d2">00561</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a271f258c50ce26f0efd6f374072b68d2">cnoise4</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00562"></a>00562     {
<a name="l00563"></a>00563         <span class="keywordflow">return</span> .5*<a class="code" href="namespaceSeExpr.html#ae1adee7fe60357d938c72c90ca8ef21f">vnoise4</a>(n,args)+.5;
<a name="l00564"></a>00564     }
<a name="l00565"></a><a class="code" href="namespaceSeExpr.html#a30dccd16a0f53bed8dafffb8154ff0b4">00565</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a30dccd16a0f53bed8dafffb8154ff0b4">cnoise4_docstring</a>=<span class="stringliteral">&quot;color cnoise4 ( vector v,float t)\n&quot;</span>
<a name="l00566"></a>00566         <span class="stringliteral">&quot;4D color noise formed with original perlin noise at location (C2 interpolant)&quot;</span>;
<a name="l00567"></a>00567 
<a name="l00568"></a>00568     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#aa420db7425be7debbde70b73f876d017">turbulence</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00569"></a>00569     {
<a name="l00570"></a>00570         <span class="comment">// args: octaves, lacunarity, gain</span>
<a name="l00571"></a>00571         <span class="keywordtype">int</span> octaves = 6;
<a name="l00572"></a>00572         <span class="keywordtype">double</span> lacunarity = 2;
<a name="l00573"></a>00573         <span class="keywordtype">double</span> gain = 0.5;
<a name="l00574"></a>00574         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="SeNoiseTables_8h.html#aefbb2f7167a298e4d0197dfbea9e1a54">p</a> = 0.0;
<a name="l00575"></a>00575 
<a name="l00576"></a>00576         <span class="keywordflow">switch</span> (n) {
<a name="l00577"></a>00577         <span class="keywordflow">case</span> 4: gain = args[3][0];
<a name="l00578"></a>00578         <span class="keywordflow">case</span> 3: lacunarity = args[2][0];
<a name="l00579"></a>00579         <span class="keywordflow">case</span> 2: octaves = int(<a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[1][0], 1, 8));
<a name="l00580"></a>00580         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00581"></a>00581         }
<a name="l00582"></a>00582 
<a name="l00583"></a>00583         <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a> = 0;
<a name="l00584"></a>00584         <span class="keywordtype">double</span> P[3] = { p[0], p[1], p[2] };
<a name="l00585"></a>00585         FBM&lt;3,1,true&gt;(P,&amp;result,octaves,lacunarity,gain);
<a name="l00586"></a>00586         <span class="keywordflow">return</span> .5*result+.5;
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 
<a name="l00590"></a>00590     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#afbd02b5c835295649149b018ed36c6d0">vturbulence</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00591"></a>00591     {
<a name="l00592"></a>00592         <span class="comment">// args: octaves, lacunarity, gain</span>
<a name="l00593"></a>00593         <span class="keywordtype">int</span> octaves = 6;
<a name="l00594"></a>00594         <span class="keywordtype">double</span> lacunarity = 2;
<a name="l00595"></a>00595         <span class="keywordtype">double</span> gain = 0.5;
<a name="l00596"></a>00596         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="SeNoiseTables_8h.html#aefbb2f7167a298e4d0197dfbea9e1a54">p</a> = 0.0;
<a name="l00597"></a>00597 
<a name="l00598"></a>00598         <span class="keywordflow">switch</span> (n) {
<a name="l00599"></a>00599         <span class="keywordflow">case</span> 4: gain = args[3][0];
<a name="l00600"></a>00600         <span class="keywordflow">case</span> 3: lacunarity = args[2][0];
<a name="l00601"></a>00601         <span class="keywordflow">case</span> 2: octaves = int(<a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[1][0], 1, 8));
<a name="l00602"></a>00602         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00603"></a>00603         }
<a name="l00604"></a>00604 
<a name="l00605"></a>00605         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00606"></a>00606         <span class="keywordtype">double</span> P[3] = { p[0], p[1], p[2] };
<a name="l00607"></a>00607         FBM&lt;3,3,true&gt;(P,&amp;result[0],octaves,lacunarity,gain);
<a name="l00608"></a>00608         <span class="keywordflow">return</span> result;
<a name="l00609"></a>00609     }
<a name="l00610"></a>00610 
<a name="l00611"></a>00611 
<a name="l00612"></a>00612     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a57d7f900fc078521e6da691e0dae1d3a">cturbulence</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00613"></a>00613     {
<a name="l00614"></a>00614         <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#afbd02b5c835295649149b018ed36c6d0">vturbulence</a>(n, args) * .5 + .5;
<a name="l00615"></a>00615     }
<a name="l00616"></a>00616 
<a name="l00617"></a>00617 
<a name="l00618"></a>00618     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a7b79d875f8142ecc95ce96e6c781063a">fbm</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00619"></a>00619     {
<a name="l00620"></a>00620         <span class="comment">// args: octaves, lacunarity, gain</span>
<a name="l00621"></a>00621         <span class="keywordtype">int</span> octaves = 6;
<a name="l00622"></a>00622         <span class="keywordtype">double</span> lacunarity = 2;
<a name="l00623"></a>00623         <span class="keywordtype">double</span> gain = 0.5;
<a name="l00624"></a>00624         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> p = 0.0;
<a name="l00625"></a>00625 
<a name="l00626"></a>00626         <span class="keywordflow">switch</span> (n) {
<a name="l00627"></a>00627         <span class="keywordflow">case</span> 4: gain = args[3][0];
<a name="l00628"></a>00628         <span class="keywordflow">case</span> 3: lacunarity = args[2][0];
<a name="l00629"></a>00629         <span class="keywordflow">case</span> 2: octaves = int(<a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[1][0], 1, 8));
<a name="l00630"></a>00630         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00631"></a>00631         }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633         <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a> = 0.0;
<a name="l00634"></a>00634         <span class="keywordtype">double</span> P[3] = { p[0], p[1], p[2] };
<a name="l00635"></a>00635         FBM&lt;3,1,false&gt;(P,&amp;result,octaves,lacunarity,gain);
<a name="l00636"></a>00636         <span class="keywordflow">return</span> .5*result+.5;
<a name="l00637"></a>00637     }
<a name="l00638"></a><a class="code" href="namespaceSeExpr.html#a031c591bc02fad25a658d24c1e8cc34e">00638</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a031c591bc02fad25a658d24c1e8cc34e">fbm_docstring</a>=
<a name="l00639"></a>00639         <span class="stringliteral">&quot;float fbm(vector v,int octaves=6,float lacunarity=2,float gain=.5)\n&quot;</span>
<a name="l00640"></a>00640         <span class="stringliteral">&quot;fbm (Fractal Brownian Motion) is a multi-frequency noise function. \n&quot;</span>
<a name="l00641"></a>00641         <span class="stringliteral">&quot;The base frequency is the same as the \&quot;noise\&quot; function. The total \n&quot;</span>
<a name="l00642"></a>00642         <span class="stringliteral">&quot;number of frequencies is controlled by octaves. The lacunarity is the \n&quot;</span>
<a name="l00643"></a>00643         <span class="stringliteral">&quot;spacing between the frequencies - a value of 2 means each octave is \n&quot;</span>
<a name="l00644"></a>00644         <span class="stringliteral">&quot;twice the previous frequency. The gain&lt; controls how much each \n&quot;</span>
<a name="l00645"></a>00645         <span class="stringliteral">&quot;frequency is scaled relative to the previous frequency.&quot;</span>;
<a name="l00646"></a>00646 
<a name="l00647"></a>00647 
<a name="l00648"></a>00648     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a3988d9c458346d34e0110d2bffe8c4f9">vfbm</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00649"></a>00649     {
<a name="l00650"></a>00650         <span class="comment">// args: octaves, lacunarity, gain</span>
<a name="l00651"></a>00651         <span class="keywordtype">int</span> octaves = 6;
<a name="l00652"></a>00652         <span class="keywordtype">double</span> lacunarity = 2;
<a name="l00653"></a>00653         <span class="keywordtype">double</span> gain = 0.5;
<a name="l00654"></a>00654         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> p = 0.0;
<a name="l00655"></a>00655 
<a name="l00656"></a>00656         <span class="keywordflow">switch</span> (n) {
<a name="l00657"></a>00657         <span class="keywordflow">case</span> 4: gain = args[3][0];
<a name="l00658"></a>00658         <span class="keywordflow">case</span> 3: lacunarity = args[2][0];
<a name="l00659"></a>00659         <span class="keywordflow">case</span> 2: octaves = int(<a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[1][0], 1, 8));
<a name="l00660"></a>00660         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00661"></a>00661         }
<a name="l00662"></a>00662 
<a name="l00663"></a>00663         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a> = 0.0;
<a name="l00664"></a>00664         <span class="keywordtype">double</span> P[3] = { p[0], p[1], p[2] };
<a name="l00665"></a>00665         FBM&lt;3,3,false&gt;(P,&amp;result[0],octaves,lacunarity,gain);
<a name="l00666"></a>00666         <span class="keywordflow">return</span> result;
<a name="l00667"></a>00667     }
<a name="l00668"></a><a class="code" href="namespaceSeExpr.html#abaef66205c8784fd714102025152209f">00668</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#abaef66205c8784fd714102025152209f">vfbm_docstring</a>=<span class="stringliteral">&quot;vector vfbm(vector vint octaves=6,float lacunarity=2,float gain=.5)&quot;</span>;
<a name="l00669"></a>00669 
<a name="l00670"></a>00670 
<a name="l00671"></a><a class="code" href="namespaceSeExpr.html#a40717da4ab2209d71398c08987f4f2d7">00671</a>     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a40717da4ab2209d71398c08987f4f2d7">fbm4</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00672"></a>00672     {
<a name="l00673"></a>00673         <span class="comment">// args: octaves, lacunarity, gain</span>
<a name="l00674"></a>00674         <span class="keywordtype">int</span> octaves = 6;
<a name="l00675"></a>00675         <span class="keywordtype">double</span> lacunarity = 2;
<a name="l00676"></a>00676         <span class="keywordtype">double</span> gain = 0.5;
<a name="l00677"></a>00677         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> p = 0.0;
<a name="l00678"></a>00678         <span class="keywordtype">float</span> time = 0.0;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680         <span class="keywordflow">switch</span> (n) {
<a name="l00681"></a>00681         <span class="keywordflow">case</span> 5: gain = args[4][0];
<a name="l00682"></a>00682         <span class="keywordflow">case</span> 4: lacunarity = args[3][0];
<a name="l00683"></a>00683         <span class="keywordflow">case</span> 3: octaves = int(<a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[2][0], 1, 8));
<a name="l00684"></a>00684         <span class="keywordflow">case</span> 2: time = args[1][0];
<a name="l00685"></a>00685         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00686"></a>00686         }
<a name="l00687"></a>00687 
<a name="l00688"></a>00688         <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a> = 0.0;
<a name="l00689"></a>00689         <span class="keywordtype">double</span> P[4] = { p[0], p[1], p[2],time };
<a name="l00690"></a>00690         FBM&lt;4,1,false&gt;(P,&amp;result,octaves,lacunarity,gain);
<a name="l00691"></a>00691         <span class="keywordflow">return</span> .5*result+.5;
<a name="l00692"></a>00692     }
<a name="l00693"></a><a class="code" href="namespaceSeExpr.html#a51030aa037c009b2a2f6d592fba1d14b">00693</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a51030aa037c009b2a2f6d592fba1d14b">fbm4_docstring</a>=<span class="stringliteral">&quot;float fbm4(vector v,float time,int octaves=6,float lacunarity=2,float gain=.5)\n&quot;</span>
<a name="l00694"></a>00694         <span class="stringliteral">&quot;fbm (Fractal Brownian Motion) is a multi-frequency noise function. \n&quot;</span>
<a name="l00695"></a>00695         <span class="stringliteral">&quot;The base frequency is the same as the \&quot;noise\&quot; function. The total \n&quot;</span>
<a name="l00696"></a>00696         <span class="stringliteral">&quot;number of frequencies is controlled by octaves. The lacunarity is the \n&quot;</span>
<a name="l00697"></a>00697         <span class="stringliteral">&quot;spacing between the frequencies - a value of 2 means each octave is \n&quot;</span>
<a name="l00698"></a>00698         <span class="stringliteral">&quot;twice the previous frequency. The gain&lt; controls how much each \n&quot;</span>
<a name="l00699"></a>00699         <span class="stringliteral">&quot;frequency is scaled relative to the previous frequency.&quot;</span>;
<a name="l00700"></a>00700 
<a name="l00701"></a>00701 
<a name="l00702"></a><a class="code" href="namespaceSeExpr.html#a81e21953900b44bd9205a5939dc8c008">00702</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a81e21953900b44bd9205a5939dc8c008">vfbm4</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00703"></a>00703     {
<a name="l00704"></a>00704         <span class="comment">// args: octaves, lacunarity, gain</span>
<a name="l00705"></a>00705         <span class="keywordtype">int</span> octaves = 6;
<a name="l00706"></a>00706         <span class="keywordtype">double</span> lacunarity = 2;
<a name="l00707"></a>00707         <span class="keywordtype">double</span> gain = 0.5;
<a name="l00708"></a>00708         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> p = 0.0;
<a name="l00709"></a>00709         <span class="keywordtype">float</span> time = 0.0;
<a name="l00710"></a>00710 
<a name="l00711"></a>00711         <span class="keywordflow">switch</span> (n) {
<a name="l00712"></a>00712         <span class="keywordflow">case</span> 5: gain = args[4][0];
<a name="l00713"></a>00713         <span class="keywordflow">case</span> 4: lacunarity = args[3][0];
<a name="l00714"></a>00714         <span class="keywordflow">case</span> 3: octaves = int(<a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[2][0], 1, 8));
<a name="l00715"></a>00715         <span class="keywordflow">case</span> 2: time = args[1][0];
<a name="l00716"></a>00716         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00717"></a>00717         }
<a name="l00718"></a>00718 
<a name="l00719"></a>00719         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a> = 0.0;
<a name="l00720"></a>00720         <span class="keywordtype">double</span> P[4] = { p[0], p[1], p[2], time };
<a name="l00721"></a>00721         FBM&lt;4,3,false&gt;(P,&amp;result[0],octaves,lacunarity,gain);
<a name="l00722"></a>00722         <span class="keywordflow">return</span> result;
<a name="l00723"></a>00723     }
<a name="l00724"></a><a class="code" href="namespaceSeExpr.html#a19411019b778a52bb70e4daa3b473f83">00724</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a19411019b778a52bb70e4daa3b473f83">vfbm4_docstring</a>=<span class="stringliteral">&quot;vector vfbm4(vector v,float time,int octaves=6,float lacunarity=2,float gain=.5)&quot;</span>;
<a name="l00725"></a>00725 
<a name="l00726"></a>00726 
<a name="l00727"></a>00727     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a66b8d5c32437194fa6968e5102b3e3a2">cfbm</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00728"></a>00728     {
<a name="l00729"></a>00729         <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a3988d9c458346d34e0110d2bffe8c4f9">vfbm</a>(n, args) * .5 + .5;
<a name="l00730"></a>00730     }
<a name="l00731"></a><a class="code" href="namespaceSeExpr.html#afcd0aee4cc1d6a0a750e19ac68df7719">00731</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#afcd0aee4cc1d6a0a750e19ac68df7719">cfbm_docstring</a>=<span class="stringliteral">&quot;color cfbm(vector vint octaves=6,float lacunarity=2,float gain=.5)&quot;</span>;
<a name="l00732"></a>00732 
<a name="l00733"></a><a class="code" href="namespaceSeExpr.html#a9d490c38f4d8b43ba26a27c9624cedfe">00733</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a9d490c38f4d8b43ba26a27c9624cedfe">cfbm4</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00734"></a>00734     {
<a name="l00735"></a>00735         <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a81e21953900b44bd9205a5939dc8c008">vfbm4</a>(n, args) * .5 + .5;
<a name="l00736"></a>00736     }
<a name="l00737"></a><a class="code" href="namespaceSeExpr.html#a18951c482e2d0dd571a252ad8bf48260">00737</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a18951c482e2d0dd571a252ad8bf48260">cfbm4_docstring</a>=<span class="stringliteral">&quot;color cfbm4(vector v,float time,int octaves=6,float lacunarity=2,float gain=.5)&quot;</span>;
<a name="l00738"></a>00738 
<a name="l00739"></a>00739 
<a name="l00740"></a>00740     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a470855f39e35b7f0d15e1f7b70508187">cellnoise</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; p)
<a name="l00741"></a>00741     {
<a name="l00742"></a>00742         <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00743"></a>00743         <span class="keywordtype">double</span> args[3] = { p[0], p[1], p[2] };
<a name="l00744"></a>00744         CellNoise&lt;3,1&gt;(args,&amp;result);
<a name="l00745"></a>00745         <span class="keywordflow">return</span> result;
<a name="l00746"></a>00746     }
<a name="l00747"></a><a class="code" href="namespaceSeExpr.html#a0a1346c1d4c5c3ca1e74b158dd840bc3">00747</a>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a0a1346c1d4c5c3ca1e74b158dd840bc3">cellnoise_docstring</a>=
<a name="l00748"></a>00748         <span class="stringliteral">&quot;float cellnoise(vector v)\n&quot;</span>
<a name="l00749"></a>00749         <span class="stringliteral">&quot;cellnoise generates a field of constant colored cubes based on the integer location.\n&quot;</span>
<a name="l00750"></a>00750         <span class="stringliteral">&quot;This is the same as the prman cellnoise function.&quot;</span>;
<a name="l00751"></a>00751 
<a name="l00752"></a>00752     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a6b47c08dc538c02249f2fb7694f9879d">ccellnoise</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; p)
<a name="l00753"></a>00753     {
<a name="l00754"></a>00754         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00755"></a>00755         <span class="keywordtype">double</span> args[3] = { p[0], p[1], p[2] };
<a name="l00756"></a>00756         CellNoise&lt;3,3&gt;(args,&amp;result[0]);
<a name="l00757"></a>00757         <span class="keywordflow">return</span> result;
<a name="l00758"></a>00758     }
<a name="l00759"></a><a class="code" href="namespaceSeExpr.html#ad5c85c4cd24968b5bfcedd4551167538">00759</a>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ad5c85c4cd24968b5bfcedd4551167538">ccellnoise_docstring</a>=
<a name="l00760"></a>00760         <span class="stringliteral">&quot;color cellnoise(vector v)\n&quot;</span>
<a name="l00761"></a>00761         <span class="stringliteral">&quot;cellnoise generates a field of constant colored cubes based on the integer location.\n&quot;</span>
<a name="l00762"></a>00762         <span class="stringliteral">&quot;This is the same as the prman cellnoise function.&quot;</span>;
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 
<a name="l00765"></a>00765     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#aafe0e78fcce3a8605aaab8313a56294b">pnoise</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; p, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; period)
<a name="l00766"></a>00766     {
<a name="l00767"></a>00767         <span class="keywordtype">double</span> <a class="code" href="plugins_8txt.html#af6e7c6aed704e156ce95dae980cd4438">result</a>;
<a name="l00768"></a>00768         <span class="keywordtype">double</span> args[3] = { p[0], p[1], p[2] };
<a name="l00769"></a>00769         <span class="keywordtype">int</span> pargs[3] = { (int)period[0], (<span class="keywordtype">int</span>)period[1], (int)period[2] };
<a name="l00770"></a>00770         PNoise&lt;3,1&gt;(args, pargs, &amp;result);
<a name="l00771"></a>00771         <span class="keywordflow">return</span> result;
<a name="l00772"></a>00772     }
<a name="l00773"></a><a class="code" href="namespaceSeExpr.html#abacb990efec25f7e19d68f1995ab6beb">00773</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#abacb990efec25f7e19d68f1995ab6beb">pnoise_docstring</a>=
<a name="l00774"></a>00774         <span class="stringliteral">&quot;float pnoise ( vector v, vector period )\n&quot;</span>
<a name="l00775"></a>00775         <span class="stringliteral">&quot;periodic noise&quot;</span>;
<a name="l00776"></a><a class="code" href="structSeExpr_1_1VoronoiPointData.html">00776</a>     <span class="keyword">struct </span><a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a> : <span class="keyword">public</span> <a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>::Data
<a name="l00777"></a>00777     {
<a name="l00778"></a><a class="code" href="structSeExpr_1_1VoronoiPointData.html#a9ee5f1ca17210e7e9ad46fe117b73ca4">00778</a>         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="structSeExpr_1_1VoronoiPointData.html#a9ee5f1ca17210e7e9ad46fe117b73ca4">points</a>[27];
<a name="l00779"></a><a class="code" href="structSeExpr_1_1VoronoiPointData.html#a4c19649537fc49566a67f67623011a15">00779</a>         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="structSeExpr_1_1VoronoiPointData.html#a4c19649537fc49566a67f67623011a15">cell</a>;
<a name="l00780"></a><a class="code" href="structSeExpr_1_1VoronoiPointData.html#ade5734684ed61e29c0d3a15781d26bb4">00780</a>         <span class="keywordtype">double</span> <a class="code" href="structSeExpr_1_1VoronoiPointData.html#ade5734684ed61e29c0d3a15781d26bb4">jitter</a>;
<a name="l00781"></a><a class="code" href="structSeExpr_1_1VoronoiPointData.html#afa87c3d040a53dd07c12d68b6375a5ae">00781</a>         <a class="code" href="structSeExpr_1_1VoronoiPointData.html#afa87c3d040a53dd07c12d68b6375a5ae">VoronoiPointData</a>() : <a class="code" href="structSeExpr_1_1VoronoiPointData.html#ade5734684ed61e29c0d3a15781d26bb4">jitter</a>(-1) {}
<a name="l00782"></a>00782     };    
<a name="l00783"></a>00783 
<a name="l00784"></a><a class="code" href="namespaceSeExpr.html#a19a3f44ed3a02eb7c986c3890d7b68cc">00784</a>     <span class="keyword">static</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* <a class="code" href="namespaceSeExpr.html#a19a3f44ed3a02eb7c986c3890d7b68cc">voronoi_points</a>(<a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>&amp; <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; cell, <span class="keywordtype">double</span> jitter)
<a name="l00785"></a>00785     {
<a name="l00786"></a>00786         <span class="keywordflow">if</span> (cell == data.<a class="code" href="structSeExpr_1_1VoronoiPointData.html#a4c19649537fc49566a67f67623011a15">cell</a> &amp;&amp; jitter == data.<a class="code" href="structSeExpr_1_1VoronoiPointData.html#ade5734684ed61e29c0d3a15781d26bb4">jitter</a>) <span class="keywordflow">return</span> data.<a class="code" href="structSeExpr_1_1VoronoiPointData.html#a9ee5f1ca17210e7e9ad46fe117b73ca4">points</a>;
<a name="l00787"></a>00787         data.<a class="code" href="structSeExpr_1_1VoronoiPointData.html#a4c19649537fc49566a67f67623011a15">cell</a> = cell;
<a name="l00788"></a>00788         data.<a class="code" href="structSeExpr_1_1VoronoiPointData.html#ade5734684ed61e29c0d3a15781d26bb4">jitter</a> = jitter;
<a name="l00789"></a>00789 
<a name="l00790"></a>00790         <span class="keywordtype">int</span> n = 0;
<a name="l00791"></a>00791         <span class="keywordflow">for</span> (<span class="keywordtype">double</span> i = -1; i &lt;= 1; i++) {
<a name="l00792"></a>00792             <span class="keywordflow">for</span> (<span class="keywordtype">double</span> j = -1; j &lt;= 1; j++) {
<a name="l00793"></a>00793                 <span class="keywordflow">for</span> (<span class="keywordtype">double</span> k = -1; k &lt;= 1; k++, n++) {
<a name="l00794"></a>00794                     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> testcell = cell + <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>(i,j,k);
<a name="l00795"></a>00795                     data.<a class="code" href="structSeExpr_1_1VoronoiPointData.html#a9ee5f1ca17210e7e9ad46fe117b73ca4">points</a>[n] = testcell + jitter * (<a class="code" href="namespaceSeExpr.html#a6b47c08dc538c02249f2fb7694f9879d">ccellnoise</a>(testcell - .5));
<a name="l00796"></a>00796                 }
<a name="l00797"></a>00797             }
<a name="l00798"></a>00798         }
<a name="l00799"></a>00799         <span class="keywordflow">return</span> data.<a class="code" href="structSeExpr_1_1VoronoiPointData.html#a9ee5f1ca17210e7e9ad46fe117b73ca4">points</a>;
<a name="l00800"></a>00800     }
<a name="l00801"></a>00801 
<a name="l00802"></a><a class="code" href="namespaceSeExpr.html#ac97dd3bf768382e9e5ed1391430f279c">00802</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceSeExpr.html#ac97dd3bf768382e9e5ed1391430f279c">voronoi_f1_3d</a>(<a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>&amp; <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; p, <span class="keywordtype">double</span> jitter,
<a name="l00803"></a>00803                               <span class="keywordtype">double</span>&amp; f1, <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a64ed5c1ee0fe6b2f2e010278ba5679d3">pos1</a>)
<a name="l00804"></a>00804     {
<a name="l00805"></a>00805         <span class="comment">// from Advanced Renderman, page 257</span>
<a name="l00806"></a>00806         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> thiscell(floor(p[0])+0.5, floor(p[1])+0.5,
<a name="l00807"></a>00807                          floor(p[2])+0.5);
<a name="l00808"></a>00808 
<a name="l00809"></a>00809         f1 = 1000;
<a name="l00810"></a>00810         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* pos = <a class="code" href="namespaceSeExpr.html#a19a3f44ed3a02eb7c986c3890d7b68cc">voronoi_points</a>(data, thiscell, jitter);
<a name="l00811"></a>00811         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* end = pos + 27;
<a name="l00812"></a>00812 
<a name="l00813"></a>00813         <span class="keywordflow">for</span> (; pos != end; pos++) {
<a name="l00814"></a>00814             <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> offset = *pos - p;
<a name="l00815"></a>00815             <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a376266b6cb2b6b5077fc5249f56f0827">dist</a> = offset.<a class="code" href="classSeVec3d.html#a86a21ac68981f5dfea3d128329b3bca4">dot</a>(offset);
<a name="l00816"></a>00816             <span class="keywordflow">if</span> (dist &lt; f1) {
<a name="l00817"></a>00817                 f1 = dist;
<a name="l00818"></a>00818                 pos1 = *pos;
<a name="l00819"></a>00819             }
<a name="l00820"></a>00820         }
<a name="l00821"></a>00821         f1 = sqrt(f1);
<a name="l00822"></a>00822     }
<a name="l00823"></a>00823 
<a name="l00824"></a><a class="code" href="namespaceSeExpr.html#ac701d53d63c041836f50862e57e06157">00824</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceSeExpr.html#ac701d53d63c041836f50862e57e06157">voronoi_f1f2_3d</a>(<a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>&amp; <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; p, <span class="keywordtype">double</span> jitter,
<a name="l00825"></a>00825                                 <span class="keywordtype">double</span>&amp; f1, <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a64ed5c1ee0fe6b2f2e010278ba5679d3">pos1</a>,
<a name="l00826"></a>00826                                 <span class="keywordtype">double</span>&amp; f2, <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; pos2)
<a name="l00827"></a>00827     {
<a name="l00828"></a>00828         <span class="comment">// from Advanced Renderman, page 258</span>
<a name="l00829"></a>00829         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> thiscell(floor(p[0])+0.5, floor(p[1])+0.5,
<a name="l00830"></a>00830                          floor(p[2])+0.5);
<a name="l00831"></a>00831         f1 = f2 = 1000;
<a name="l00832"></a>00832         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* pos = <a class="code" href="namespaceSeExpr.html#a19a3f44ed3a02eb7c986c3890d7b68cc">voronoi_points</a>(data, thiscell, jitter);
<a name="l00833"></a>00833         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* end = pos + 27;
<a name="l00834"></a>00834 
<a name="l00835"></a>00835         <span class="keywordflow">for</span> (; pos != end; pos++) {
<a name="l00836"></a>00836             <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> offset = *pos - p;
<a name="l00837"></a>00837             <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a376266b6cb2b6b5077fc5249f56f0827">dist</a> = offset.<a class="code" href="classSeVec3d.html#a86a21ac68981f5dfea3d128329b3bca4">dot</a>(offset);
<a name="l00838"></a>00838             <span class="keywordflow">if</span> (dist &lt; f1) {
<a name="l00839"></a>00839                 f2 = f1; pos2 = pos1;
<a name="l00840"></a>00840                 f1 = dist;
<a name="l00841"></a>00841                 pos1 = *pos;
<a name="l00842"></a>00842             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dist &lt; f2) {
<a name="l00843"></a>00843                 f2 = dist; pos2 = *pos;
<a name="l00844"></a>00844             }
<a name="l00845"></a>00845         }
<a name="l00846"></a>00846         f1 = sqrt(f1); f2 = sqrt(f2);
<a name="l00847"></a>00847     }
<a name="l00848"></a>00848 
<a name="l00849"></a><a class="code" href="namespaceSeExpr.html#a686de5ab6f01fd2c908db490df382712">00849</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a2b65101067c69fa5a91da125d7ec52f3">voronoiFn</a>(<a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>&amp; <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>, <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00850"></a>00850     {
<a name="l00851"></a>00851         <span class="comment">// args = p, type, jitter, </span>
<a name="l00852"></a>00852         <span class="comment">//        fbmScale, fbmOctaves, fbmLacunarity, fbmGain</span>
<a name="l00853"></a>00853         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> p;
<a name="l00854"></a>00854         <span class="keywordtype">int</span> type = 1;
<a name="l00855"></a>00855         <span class="keywordtype">double</span> jitter = 0.5;
<a name="l00856"></a>00856         <span class="keywordtype">double</span> fbmScale = 0;
<a name="l00857"></a>00857         <span class="keywordtype">double</span> fbmOctaves = 4;
<a name="l00858"></a>00858         <span class="keywordtype">double</span> fbmLacunarity = 2;
<a name="l00859"></a>00859         <span class="keywordtype">double</span> fbmGain = 0.5;
<a name="l00860"></a>00860         <span class="keywordflow">switch</span> (n) {
<a name="l00861"></a>00861         <span class="keywordflow">case</span> 7: fbmGain = args[6][0];
<a name="l00862"></a>00862         <span class="keywordflow">case</span> 6: fbmLacunarity = args[5][0];
<a name="l00863"></a>00863         <span class="keywordflow">case</span> 5: fbmOctaves = args[4][0];
<a name="l00864"></a>00864         <span class="keywordflow">case</span> 4: fbmScale = args[3][0];
<a name="l00865"></a>00865         <span class="keywordflow">case</span> 3: jitter = <a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[2][0], 1e-3, 1);
<a name="l00866"></a>00866         <span class="keywordflow">case</span> 2: type = int(args[1][0]);
<a name="l00867"></a>00867         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00868"></a>00868         }
<a name="l00869"></a>00869 
<a name="l00870"></a>00870         <span class="keywordflow">if</span> (fbmScale &gt; 0) {
<a name="l00871"></a>00871             <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> fbmArgs[4];
<a name="l00872"></a>00872             fbmArgs[0] = 2*p;
<a name="l00873"></a>00873             fbmArgs[1] = fbmOctaves;
<a name="l00874"></a>00874             fbmArgs[2] = fbmLacunarity;
<a name="l00875"></a>00875             fbmArgs[3] = fbmGain;
<a name="l00876"></a>00876             p += fbmScale * <a class="code" href="namespaceSeExpr.html#a3988d9c458346d34e0110d2bffe8c4f9">vfbm</a>(4, fbmArgs);
<a name="l00877"></a>00877         }
<a name="l00878"></a>00878 
<a name="l00879"></a>00879         <span class="keywordtype">double</span> f1, f2;
<a name="l00880"></a>00880         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="userdoc_8txt.html#a64ed5c1ee0fe6b2f2e010278ba5679d3">pos1</a>, pos2;
<a name="l00881"></a>00881         <span class="keywordflow">if</span> (type &gt;= 3)
<a name="l00882"></a>00882             <a class="code" href="namespaceSeExpr.html#ac701d53d63c041836f50862e57e06157">voronoi_f1f2_3d</a>(data, p, jitter, f1, pos1, f2, pos2);
<a name="l00883"></a>00883         <span class="keywordflow">else</span> 
<a name="l00884"></a>00884             <a class="code" href="namespaceSeExpr.html#ac97dd3bf768382e9e5ed1391430f279c">voronoi_f1_3d</a>(data, p, jitter, f1, pos1);
<a name="l00885"></a>00885 
<a name="l00886"></a>00886         <span class="keywordflow">switch</span> (type) {
<a name="l00887"></a>00887         <span class="keywordflow">case</span> 1: pos1[0] += 10; <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a470855f39e35b7f0d15e1f7b70508187">cellnoise</a>(pos1);
<a name="l00888"></a>00888         <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> f1;
<a name="l00889"></a>00889         <span class="keywordflow">case</span> 3: <span class="keywordflow">return</span> f2;
<a name="l00890"></a>00890         <span class="keywordflow">case</span> 4: <span class="keywordflow">return</span> f2-f1;
<a name="l00891"></a>00891         <span class="keywordflow">case</span> 5:
<a name="l00892"></a>00892             {
<a name="l00893"></a>00893                 <span class="keywordtype">float</span> scalefactor = 
<a name="l00894"></a>00894                     (pos2-pos1).<a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>() /
<a name="l00895"></a>00895                     ((pos1-p).<a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>() + (pos2-p).<a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>());
<a name="l00896"></a>00896                 <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a8230b456b436953200c359b3f656d4bb">smoothstep</a>(f2-f1, 0, 0.1*scalefactor);
<a name="l00897"></a>00897             }
<a name="l00898"></a>00898         }
<a name="l00899"></a>00899 
<a name="l00900"></a>00900         <span class="keywordflow">return</span> 0.0;
<a name="l00901"></a>00901     }
<a name="l00902"></a><a class="code" href="namespaceSeExpr.html#aa7ccb3c9d3ca2360e8bdee2fdc18f039">00902</a>     <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#aa7ccb3c9d3ca2360e8bdee2fdc18f039">voronoi_docstring</a>=
<a name="l00903"></a>00903         <span class="stringliteral">&quot;float voronoi(vector v, int type=1,float jitter=0.5, float fbmScale=0, int fbmOctaves=4,float fbmLacunarity=2, float fbmGain=.5)\n&quot;</span>
<a name="l00904"></a>00904         <span class="stringliteral">&quot;voronoi is a cellular noise pattern. It is a jittered variant of cellnoise.&quot;</span>;
<a name="l00905"></a>00905 
<a name="l00906"></a>00906 
<a name="l00907"></a><a class="code" href="namespaceSeExpr.html#ab218a8d5ee37a4395477d12c714a213c">00907</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a26f7f6a587ff8cfd7f072988c4cccdba">cvoronoiFn</a>(<a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>&amp; <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>, <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00908"></a>00908     {
<a name="l00909"></a>00909         <span class="comment">// args = p, type, jitter, </span>
<a name="l00910"></a>00910         <span class="comment">//        fbmScale, fbmOctaves, fbmLacunarity, fbmGain</span>
<a name="l00911"></a>00911         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> p;
<a name="l00912"></a>00912         <span class="keywordtype">int</span> type = 1;
<a name="l00913"></a>00913         <span class="keywordtype">double</span> jitter = 0.5;
<a name="l00914"></a>00914         <span class="keywordtype">double</span> fbmScale = 0;
<a name="l00915"></a>00915         <span class="keywordtype">double</span> fbmOctaves = 4;
<a name="l00916"></a>00916         <span class="keywordtype">double</span> fbmLacunarity = 2;
<a name="l00917"></a>00917         <span class="keywordtype">double</span> fbmGain = 0.5;
<a name="l00918"></a>00918         <span class="keywordflow">switch</span> (n) {
<a name="l00919"></a>00919         <span class="keywordflow">case</span> 7: fbmGain = args[6][0];
<a name="l00920"></a>00920         <span class="keywordflow">case</span> 6: fbmLacunarity = args[5][0];
<a name="l00921"></a>00921         <span class="keywordflow">case</span> 5: fbmOctaves = args[4][0];
<a name="l00922"></a>00922         <span class="keywordflow">case</span> 4: fbmScale = args[3][0];
<a name="l00923"></a>00923         <span class="keywordflow">case</span> 3: jitter = <a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[2][0], 1e-3, 1);
<a name="l00924"></a>00924         <span class="keywordflow">case</span> 2: type = int(args[1][0]);
<a name="l00925"></a>00925         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00926"></a>00926         }
<a name="l00927"></a>00927 
<a name="l00928"></a>00928         <span class="keywordflow">if</span> (fbmScale &gt; 0) {
<a name="l00929"></a>00929             <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> fbmArgs[4];
<a name="l00930"></a>00930             fbmArgs[0] = 2*p;
<a name="l00931"></a>00931             fbmArgs[1] = fbmOctaves;
<a name="l00932"></a>00932             fbmArgs[2] = fbmLacunarity;
<a name="l00933"></a>00933             fbmArgs[3] = fbmGain;
<a name="l00934"></a>00934             p += fbmScale * <a class="code" href="namespaceSeExpr.html#a3988d9c458346d34e0110d2bffe8c4f9">vfbm</a>(4, fbmArgs);
<a name="l00935"></a>00935         }
<a name="l00936"></a>00936 
<a name="l00937"></a>00937         <span class="keywordtype">double</span> f1, f2;
<a name="l00938"></a>00938         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="userdoc_8txt.html#a64ed5c1ee0fe6b2f2e010278ba5679d3">pos1</a>, pos2;
<a name="l00939"></a>00939         <span class="keywordflow">if</span> (type &gt;= 3)
<a name="l00940"></a>00940             <a class="code" href="namespaceSeExpr.html#ac701d53d63c041836f50862e57e06157">voronoi_f1f2_3d</a>(data, p, jitter, f1, pos1, f2, pos2);
<a name="l00941"></a>00941         <span class="keywordflow">else</span> 
<a name="l00942"></a>00942             <a class="code" href="namespaceSeExpr.html#ac97dd3bf768382e9e5ed1391430f279c">voronoi_f1_3d</a>(data, p, jitter, f1, pos1);
<a name="l00943"></a>00943 
<a name="l00944"></a>00944         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> color = <a class="code" href="namespaceSeExpr.html#a6b47c08dc538c02249f2fb7694f9879d">ccellnoise</a>(pos1);
<a name="l00945"></a>00945         <span class="keywordflow">switch</span> (type) {
<a name="l00946"></a>00946         <span class="keywordflow">case</span> 1: pos1[0] += 10; <span class="keywordflow">return</span> color;
<a name="l00947"></a>00947         <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> f1 * color;
<a name="l00948"></a>00948         <span class="keywordflow">case</span> 3: <span class="keywordflow">return</span> f2 * color;
<a name="l00949"></a>00949         <span class="keywordflow">case</span> 4: <span class="keywordflow">return</span> (f2-f1) * color;
<a name="l00950"></a>00950         <span class="keywordflow">case</span> 5:
<a name="l00951"></a>00951             {
<a name="l00952"></a>00952                 <span class="keywordtype">float</span> scalefactor = 
<a name="l00953"></a>00953                     (pos2-pos1).<a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>() /
<a name="l00954"></a>00954                     ((pos1-p).<a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>() + (pos2-p).<a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>());
<a name="l00955"></a>00955                 <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a8230b456b436953200c359b3f656d4bb">smoothstep</a>(f2-f1, 0, 0.1*scalefactor) * color;
<a name="l00956"></a>00956             }
<a name="l00957"></a>00957         }
<a name="l00958"></a>00958 
<a name="l00959"></a>00959         <span class="keywordflow">return</span> 0.0;
<a name="l00960"></a>00960     }
<a name="l00961"></a><a class="code" href="namespaceSeExpr.html#a8833eb9679b2ec028c770fb5f8d71b87">00961</a>     <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a8833eb9679b2ec028c770fb5f8d71b87">cvoronoi_docstring</a>=
<a name="l00962"></a>00962         <span class="stringliteral">&quot;color cvoronoi(vector v, int type=1,float jitter=0.5, float fbmScale=0, int fbmOctaves=4,float fbmLacunarity=2, float fbmGain=.5)\n&quot;</span>
<a name="l00963"></a>00963         <span class="stringliteral">&quot;returns color in cellular pattern. It is a jittered variant of cellnoise.&quot;</span>;
<a name="l00964"></a>00964 
<a name="l00965"></a>00965 
<a name="l00966"></a><a class="code" href="namespaceSeExpr.html#a1eeb2a15bfd4ba472a8e221fcf73828c">00966</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a502d6388322d1d00e49568741b53844c">pvoronoiFn</a>(<a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>&amp; <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>, <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l00967"></a>00967     {
<a name="l00968"></a>00968         <span class="comment">// args = p, jitter, </span>
<a name="l00969"></a>00969         <span class="comment">//        fbmScale, fbmOctaves, fbmLacunarity, fbmGain</span>
<a name="l00970"></a>00970         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> p;
<a name="l00971"></a>00971         <span class="keywordtype">double</span> jitter = 0.5;
<a name="l00972"></a>00972         <span class="keywordtype">double</span> fbmScale = 0;
<a name="l00973"></a>00973         <span class="keywordtype">double</span> fbmOctaves = 4;
<a name="l00974"></a>00974         <span class="keywordtype">double</span> fbmLacunarity = 2;
<a name="l00975"></a>00975         <span class="keywordtype">double</span> fbmGain = 0.5;
<a name="l00976"></a>00976         <span class="keywordflow">switch</span> (n) {
<a name="l00977"></a>00977         <span class="keywordflow">case</span> 6: fbmGain = args[5][0];
<a name="l00978"></a>00978         <span class="keywordflow">case</span> 5: fbmLacunarity = args[4][0];
<a name="l00979"></a>00979         <span class="keywordflow">case</span> 4: fbmOctaves = args[3][0];
<a name="l00980"></a>00980         <span class="keywordflow">case</span> 3: fbmScale = args[2][0];
<a name="l00981"></a>00981         <span class="keywordflow">case</span> 2: jitter = <a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(args[1][0], 1e-3, 1);
<a name="l00982"></a>00982         <span class="keywordflow">case</span> 1: p = args[0];
<a name="l00983"></a>00983         }
<a name="l00984"></a>00984 
<a name="l00985"></a>00985         <span class="keywordflow">if</span> (fbmScale &gt; 0) {
<a name="l00986"></a>00986             <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> fbmArgs[4];
<a name="l00987"></a>00987             fbmArgs[0] = 2*p;
<a name="l00988"></a>00988             fbmArgs[1] = fbmOctaves;
<a name="l00989"></a>00989             fbmArgs[2] = fbmLacunarity;
<a name="l00990"></a>00990             fbmArgs[3] = fbmGain;
<a name="l00991"></a>00991             p += fbmScale * <a class="code" href="namespaceSeExpr.html#a3988d9c458346d34e0110d2bffe8c4f9">vfbm</a>(4, fbmArgs);
<a name="l00992"></a>00992         }
<a name="l00993"></a>00993 
<a name="l00994"></a>00994         <span class="keywordtype">double</span> f1;
<a name="l00995"></a>00995         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="userdoc_8txt.html#a64ed5c1ee0fe6b2f2e010278ba5679d3">pos1</a>;
<a name="l00996"></a>00996         <a class="code" href="namespaceSeExpr.html#ac97dd3bf768382e9e5ed1391430f279c">voronoi_f1_3d</a>(data, p, jitter, f1, pos1);
<a name="l00997"></a>00997         <span class="keywordflow">return</span> pos1;
<a name="l00998"></a>00998     }
<a name="l00999"></a><a class="code" href="namespaceSeExpr.html#a192a21e33dc950f144ab7c782f008ba2">00999</a>     <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a192a21e33dc950f144ab7c782f008ba2">pvoronoi_docstring</a>=
<a name="l01000"></a>01000         <span class="stringliteral">&quot;color pvoronoi(vector v, int type=1,float jitter=0.5, float fbmScale=0, int fbmOctaves=4,float fbmLacunarity=2, float fbmGain=.5)\n&quot;</span>
<a name="l01001"></a>01001         <span class="stringliteral">&quot;returns center of voronoi cell.&quot;</span>;
<a name="l01002"></a>01002 
<a name="l01003"></a>01003 
<a name="l01004"></a><a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html">01004</a>     <span class="keyword">class </span><a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html">CachedVoronoiFunc</a> : <span class="keyword">public</span> <a class="code" href="classSeExprFuncX.html" title="Extension function spec, used for complicated argument custom functions.">SeExprFuncX</a>
<a name="l01005"></a>01005     {
<a name="l01006"></a>01006      <span class="keyword">public</span>:
<a name="l01007"></a><a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a9543502293f59e92623bec43c3a3f991">01007</a>         <span class="keyword">typedef</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a9543502293f59e92623bec43c3a3f991">VoronoiFunc</a>(<a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>&amp; <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>, <span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args);
<a name="l01008"></a><a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#aedcfb4cb148a79625bbb7ce7f602843d">01008</a>         <a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#aedcfb4cb148a79625bbb7ce7f602843d">CachedVoronoiFunc</a>(<a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a9543502293f59e92623bec43c3a3f991">VoronoiFunc</a>* vfunc) : <a class="code" href="classSeExprFuncX.html" title="Extension function spec, used for complicated argument custom functions.">SeExprFuncX</a>(true),<a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a7f1cf7e2f378ecbf17ebf5a7f9b5f465">_vfunc</a>(vfunc) {}
<a name="l01009"></a>01009 
<a name="l01010"></a><a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a0e3fce9575ce86a7bb4c0057ab50b11f">01010</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a0e3fce9575ce86a7bb4c0057ab50b11f">prep</a>(<a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>* node, <span class="keywordtype">bool</span> wantVec, std::string&amp; error)
<a name="l01011"></a>01011         {
<a name="l01012"></a>01012             node-&gt;<a class="code" href="classSeExprFuncNode.html#a2ec05bcf76de5edc437365737d2d8d0b" title="associate blind data with this node (subsequently owned by this object)">setData</a>(<span class="keyword">new</span> <a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>);
<a name="l01013"></a>01013             <span class="comment">// force wantVec to true - args are always vecs even of result is not</span>
<a name="l01014"></a>01014             <span class="keywordflow">return</span> <a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a0e3fce9575ce86a7bb4c0057ab50b11f">SeExprFuncX::prep</a>(node, <span class="keyword">true</span>, error);
<a name="l01015"></a>01015         }
<a name="l01016"></a>01016 
<a name="l01017"></a><a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a33a72959f80844ee40a410be505472e9">01017</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a33a72959f80844ee40a410be505472e9">eval</a>(<span class="keyword">const</span> <a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>* node, <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; result)<span class="keyword"> const</span>
<a name="l01018"></a>01018 <span class="keyword">        </span>{
<a name="l01019"></a>01019             <a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>* <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="structSeExpr_1_1VoronoiPointData.html">VoronoiPointData</a>*<span class="keyword">&gt;</span>(node-&gt;<a class="code" href="classSeExprFuncNode.html#aa13cef030c10335107aec8625f0eaecc" title="get associated blind data (returns 0 if none)">getData</a>());
<a name="l01020"></a>01020             <span class="keywordtype">int</span> nargs = node-&gt;<a class="code" href="classSeExprNode.html#aa995212baf79e6c2625678b9e249d7ee" title="Access children.">numChildren</a>();
<a name="l01021"></a>01021             <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args = (<a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>*) alloca(<span class="keyword">sizeof</span>(<a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>) * nargs);
<a name="l01022"></a>01022             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nargs; i++) node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(args[i]);
<a name="l01023"></a>01023             result = <a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a7f1cf7e2f378ecbf17ebf5a7f9b5f465">_vfunc</a>(*data, nargs, args);
<a name="l01024"></a>01024         }
<a name="l01025"></a>01025 
<a name="l01026"></a>01026      <span class="keyword">private</span>:
<a name="l01027"></a><a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a7f1cf7e2f378ecbf17ebf5a7f9b5f465">01027</a>         <a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a9543502293f59e92623bec43c3a3f991">VoronoiFunc</a>* <a class="code" href="classSeExpr_1_1CachedVoronoiFunc.html#a7f1cf7e2f378ecbf17ebf5a7f9b5f465">_vfunc</a>;
<a name="l01028"></a>01028     } voronoi(<a class="code" href="namespaceSeExpr.html#a2b65101067c69fa5a91da125d7ec52f3">voronoiFn</a>), cvoronoi(<a class="code" href="namespaceSeExpr.html#a26f7f6a587ff8cfd7f072988c4cccdba">cvoronoiFn</a>), pvoronoi(<a class="code" href="namespaceSeExpr.html#a502d6388322d1d00e49568741b53844c">pvoronoiFn</a>);
<a name="l01029"></a>01029     
<a name="l01030"></a>01030 
<a name="l01031"></a>01031     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a376266b6cb2b6b5077fc5249f56f0827">dist</a>(<span class="keywordtype">double</span> ax, <span class="keywordtype">double</span> ay, <span class="keywordtype">double</span> az, <span class="keywordtype">double</span> bx, <span class="keywordtype">double</span> by, <span class="keywordtype">double</span> bz)
<a name="l01032"></a>01032     {
<a name="l01033"></a>01033         <span class="keywordtype">double</span> x = ax-bx;
<a name="l01034"></a>01034         <span class="keywordtype">double</span> y = ay-by;
<a name="l01035"></a>01035         <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#aa113fc4be60af94d873283bd6eca6bca">z</a> = az-bz;
<a name="l01036"></a>01036         <span class="keywordflow">return</span> sqrt(x*x + y*y + z*z);
<a name="l01037"></a>01037     }
<a name="l01038"></a><a class="code" href="namespaceSeExpr.html#a1bf5cabce06bb4e15c2ad508c895d766">01038</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a1bf5cabce06bb4e15c2ad508c895d766">dist_docstring</a>=
<a name="l01039"></a>01039         <span class="stringliteral">&quot;float dist(vector a, vector b)\n&quot;</span>
<a name="l01040"></a>01040         <span class="stringliteral">&quot;distance between two points&quot;</span>;
<a name="l01041"></a>01041 
<a name="l01042"></a>01042     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; v)
<a name="l01043"></a>01043     {
<a name="l01044"></a>01044         <span class="keywordflow">return</span> sqrt(v[0]*v[0] + v[1]*v[1] + v[2]*v[2]);
<a name="l01045"></a>01045     }
<a name="l01046"></a><a class="code" href="namespaceSeExpr.html#ada30f76f6ee7e696e6d1e4d58a71786e">01046</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ada30f76f6ee7e696e6d1e4d58a71786e">length_docstring</a>=
<a name="l01047"></a>01047         <span class="stringliteral">&quot;float length(vector v)\n&quot;</span>
<a name="l01048"></a>01048         <span class="stringliteral">&quot;length of vector&quot;</span>;
<a name="l01049"></a>01049 
<a name="l01050"></a>01050 
<a name="l01051"></a>01051     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#ac7140f6ee620f22684caa9a164652c5e">hypot</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)
<a name="l01052"></a>01052     {
<a name="l01053"></a>01053         <span class="keywordflow">return</span> sqrt(x*x+y*y);
<a name="l01054"></a>01054     }
<a name="l01055"></a><a class="code" href="namespaceSeExpr.html#ac1a09c38824266904260a67c725f1787">01055</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ac1a09c38824266904260a67c725f1787">hypot_docstring</a>=
<a name="l01056"></a>01056         <span class="stringliteral">&quot;float hypot(vector v)\n&quot;</span>
<a name="l01057"></a>01057         <span class="stringliteral">&quot;length of 2d vector [x,y]&quot;</span>;
<a name="l01058"></a>01058 
<a name="l01059"></a>01059     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a294624df90b758d3c2de1e66919e4a35">dot</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>)
<a name="l01060"></a>01060     {
<a name="l01061"></a>01061         <span class="keywordflow">return</span> a[0]*b[0] + a[1]*b[1] + a[2]*b[2];
<a name="l01062"></a>01062     }
<a name="l01063"></a><a class="code" href="namespaceSeExpr.html#ae158c2e0d8d0153605355c43399710cc">01063</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ae158c2e0d8d0153605355c43399710cc">dot_docstring</a>=
<a name="l01064"></a>01064         <span class="stringliteral">&quot;float dot(vector a,vector b)\n&quot;</span>
<a name="l01065"></a>01065         <span class="stringliteral">&quot;vector dot product&quot;</span>;
<a name="l01066"></a>01066 
<a name="l01067"></a>01067 
<a name="l01068"></a>01068     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a488cc694026f039309eef989a93e4ad4">norm</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>)
<a name="l01069"></a>01069     {
<a name="l01070"></a>01070         <span class="keywordtype">double</span> len = <a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>(a);
<a name="l01071"></a>01071         <span class="keywordflow">if</span> (len == 0) <span class="keywordflow">return</span> 0.0;
<a name="l01072"></a>01072         <span class="keywordflow">else</span> <span class="keywordflow">return</span> a / len;
<a name="l01073"></a>01073     }
<a name="l01074"></a><a class="code" href="namespaceSeExpr.html#afa634798281d3cbbfedcfe4fef696a35">01074</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#afa634798281d3cbbfedcfe4fef696a35">norm_docstring</a>=
<a name="l01075"></a>01075         <span class="stringliteral">&quot;vector norm(vector v)\n&quot;</span>
<a name="l01076"></a>01076         <span class="stringliteral">&quot;vector scaled to unit length&quot;</span>;
<a name="l01077"></a>01077 
<a name="l01078"></a>01078 
<a name="l01079"></a>01079     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#ac292a7835174c9b4adfc03c8845a7646">cross</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>)
<a name="l01080"></a>01080     {
<a name="l01081"></a>01081         <span class="keywordflow">return</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>(a[1]*b[2] - a[2]*b[1],
<a name="l01082"></a>01082                        a[2]*b[0] - a[0]*b[2],
<a name="l01083"></a>01083                        a[0]*b[1] - a[1]*b[0]);
<a name="l01084"></a>01084     }
<a name="l01085"></a><a class="code" href="namespaceSeExpr.html#ae656abb3cb3fe85e779bbc491445bd14">01085</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#ae656abb3cb3fe85e779bbc491445bd14">cross_docstring</a>=
<a name="l01086"></a>01086         <span class="stringliteral">&quot;vector cross(vector a,vector b)\n&quot;</span>
<a name="l01087"></a>01087         <span class="stringliteral">&quot;vector cross product&quot;</span>;
<a name="l01088"></a>01088 
<a name="l01089"></a>01089 
<a name="l01090"></a>01090     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a024ac2a8a478450ffeba5275d0c4753d">angle</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>)
<a name="l01091"></a>01091     {
<a name="l01092"></a>01092         <span class="keywordtype">double</span> len = <a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>(a)*<a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>(b);
<a name="l01093"></a>01093         <span class="keywordflow">if</span> (len == 0) <span class="keywordflow">return</span> 0;
<a name="l01094"></a>01094         <span class="keywordflow">return</span> acos(<a class="code" href="namespaceSeExpr.html#a294624df90b758d3c2de1e66919e4a35">dot</a>(a,b) / len);
<a name="l01095"></a>01095     }
<a name="l01096"></a><a class="code" href="namespaceSeExpr.html#af6c82e1861e0340a88e88b1249bcaf1d">01096</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#af6c82e1861e0340a88e88b1249bcaf1d">angle_docstring</a>=
<a name="l01097"></a>01097         <span class="stringliteral">&quot;float angle(vector a,vector b)\n&quot;</span>
<a name="l01098"></a>01098         <span class="stringliteral">&quot;angle between two vectors (in radians)&quot;</span>;
<a name="l01099"></a>01099 
<a name="l01100"></a>01100 
<a name="l01101"></a>01101 
<a name="l01102"></a>01102     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#ac9fd8d96a8b315b19f828abe3f0df454">ortho</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a6e7beb7fd49890b40d53777ee8f839af">a</a>, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; <a class="code" href="userdoc_8txt.html#a21ad0bd836b90d08f4cf640b4c298e7c">b</a>)
<a name="l01103"></a>01103     {
<a name="l01104"></a>01104         <span class="keywordflow">return</span> <a class="code" href="namespaceSeExpr.html#a488cc694026f039309eef989a93e4ad4">norm</a>(<a class="code" href="namespaceSeExpr.html#ac292a7835174c9b4adfc03c8845a7646">cross</a>(a,b));
<a name="l01105"></a>01105     }
<a name="l01106"></a><a class="code" href="namespaceSeExpr.html#a1c52cbb127a5a250116997cd8503a770">01106</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a1c52cbb127a5a250116997cd8503a770">ortho_docstring</a>=
<a name="l01107"></a>01107         <span class="stringliteral">&quot;vector angle(vector a,vector b)\n&quot;</span>
<a name="l01108"></a>01108         <span class="stringliteral">&quot;normalized vector orthogonal to a and b scaled to unit length&quot;</span>;
<a name="l01109"></a>01109 
<a name="l01110"></a>01110 
<a name="l01111"></a><a class="code" href="namespaceSeExpr.html#a15f128e678a6caf3a4115a92a6e55fc3">01111</a>     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a15f128e678a6caf3a4115a92a6e55fc3">rotate</a>(<span class="keywordtype">int</span> n, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>* args)
<a name="l01112"></a>01112     {
<a name="l01113"></a>01113         <span class="keywordflow">if</span> (n != 3) <span class="keywordflow">return</span> 0.0;
<a name="l01114"></a>01114         <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; P = args[0];
<a name="l01115"></a>01115         <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; axis = args[1];
<a name="l01116"></a>01116         <span class="keywordtype">float</span> <a class="code" href="namespaceSeExpr.html#a024ac2a8a478450ffeba5275d0c4753d">angle</a> = args[2][0];
<a name="l01117"></a>01117         <span class="keywordtype">double</span> len = axis.<a class="code" href="classSeVec3d.html#a02a31d289e7fac8c415208adbb7b4260">length</a>(); 
<a name="l01118"></a>01118         <span class="keywordflow">if</span> (!len) <span class="keywordflow">return</span> P;
<a name="l01119"></a>01119         <span class="keywordflow">return</span> P.<a class="code" href="classSeVec3d.html#a715cc8cea6b3357d2c02605c15d9d759">rotateBy</a>(axis/len, angle);
<a name="l01120"></a>01120     }
<a name="l01121"></a><a class="code" href="namespaceSeExpr.html#a7f6977b5a5fe1f4a5615b94fc55e469f">01121</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a7f6977b5a5fe1f4a5615b94fc55e469f">rotate_docstring</a>=
<a name="l01122"></a>01122         <span class="stringliteral">&quot;vector rotate(vector v,vector axis,float angle)\n&quot;</span>
<a name="l01123"></a>01123         <span class="stringliteral">&quot;rotates v around axis by given angle (in radians)&quot;</span>;
<a name="l01124"></a>01124 
<a name="l01125"></a>01125 
<a name="l01126"></a>01126     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> <a class="code" href="namespaceSeExpr.html#a67a32b18409ea9f7c0a43dc6e65caac6">up</a>(<span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; P, <span class="keyword">const</span> <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; upvec)
<a name="l01127"></a>01127     {
<a name="l01128"></a>01128         <span class="comment">// rotate vec so y-axis points to upvec</span>
<a name="l01129"></a>01129         <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> yAxis(0,1,0);
<a name="l01130"></a>01130         <span class="keywordflow">return</span> P.<a class="code" href="classSeVec3d.html#a715cc8cea6b3357d2c02605c15d9d759">rotateBy</a>(<a class="code" href="namespaceSeExpr.html#ac9fd8d96a8b315b19f828abe3f0df454">ortho</a>(upvec, yAxis), <a class="code" href="namespaceSeExpr.html#a024ac2a8a478450ffeba5275d0c4753d">angle</a>(upvec, yAxis));
<a name="l01131"></a>01131     }
<a name="l01132"></a><a class="code" href="namespaceSeExpr.html#a41a1834591daa2c5314cb8999f74820c">01132</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a41a1834591daa2c5314cb8999f74820c">up_docstring</a>=
<a name="l01133"></a>01133         <span class="stringliteral">&quot;vector up(vector P,vector upvec)\n&quot;</span>
<a name="l01134"></a>01134         <span class="stringliteral">&quot;rotates v such that the Y axis points in the given up direction&quot;</span>;
<a name="l01135"></a>01135 
<a name="l01136"></a>01136     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a71659ea2b80b9877a7c5e96cc0d6c5cc">cycle</a>(<span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a547c3013237fcef91180e5c3fb370e14">index</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a25d4d6c563e898be865a7a0a34ccb673">loRange</a>, <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a8d19baf76a36a2360dda2325ec963ef1">hiRange</a>)
<a name="l01137"></a>01137     {
<a name="l01138"></a>01138         <span class="keywordtype">int</span> lo = int(loRange);
<a name="l01139"></a>01139         <span class="keywordtype">int</span> hi = int(hiRange);
<a name="l01140"></a>01140         <span class="keywordtype">int</span> range = hi - lo + 1;
<a name="l01141"></a>01141         <span class="keywordflow">if</span> (range &lt;= 0) <span class="keywordflow">return</span> lo;
<a name="l01142"></a>01142         <span class="keywordtype">int</span> result = int(index) % range;
<a name="l01143"></a>01143         <span class="keywordflow">if</span> (result &lt; 0) result += range;
<a name="l01144"></a>01144         <span class="keywordflow">return</span> lo + result;
<a name="l01145"></a>01145     }
<a name="l01146"></a><a class="code" href="namespaceSeExpr.html#a8d53ccfcc96b749d2f186b326da1d381">01146</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a8d53ccfcc96b749d2f186b326da1d381">cycle_docstring</a>=
<a name="l01147"></a>01147         <span class="stringliteral">&quot;int cycle(int index, int loRange, int hiRange )\n&quot;</span>
<a name="l01148"></a>01148         <span class="stringliteral">&quot;Cycles through values between loRange and hiRange based on supplied index.\n&quot;</span>
<a name="l01149"></a>01149         <span class="stringliteral">&quot;This is an offset \&quot;mod\&quot; function. The result is rotates v such that the\n&quot;</span>
<a name="l01150"></a>01150         <span class="stringliteral">&quot;Y axis points in the given up direction&quot;</span>;
<a name="l01151"></a>01151 
<a name="l01152"></a>01152 
<a name="l01153"></a>01153     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a4d39d787a40c0ee096d53f862a767fa3">pick</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">double</span>* params)
<a name="l01154"></a>01154     {
<a name="l01155"></a>01155         <span class="keywordflow">if</span> (n &lt; 3) <span class="keywordflow">return</span> 0;
<a name="l01156"></a>01156         <span class="keywordtype">double</span> <a class="code" href="userdoc_8txt.html#a547c3013237fcef91180e5c3fb370e14">index</a> = <a class="code" href="namespaceSeExpr.html#a74fc283df3c246302b37ddbf9c257f44">hash</a>(1, &amp;params[0]);
<a name="l01157"></a>01157         <span class="keywordtype">int</span> <a class="code" href="userdoc_8txt.html#a25d4d6c563e898be865a7a0a34ccb673">loRange</a> = int(params[1]);
<a name="l01158"></a>01158         <span class="keywordtype">int</span> <a class="code" href="userdoc_8txt.html#a8d19baf76a36a2360dda2325ec963ef1">hiRange</a> = int(params[2]);
<a name="l01159"></a>01159         <span class="keywordtype">int</span> range = hiRange-loRange+1;
<a name="l01160"></a>01160         <span class="keywordflow">if</span> (range &lt;= 0) <span class="keywordflow">return</span> loRange;
<a name="l01161"></a>01161         <span class="keywordtype">int</span> numWeights = n-3;
<a name="l01162"></a>01162         <span class="keywordflow">if</span> (numWeights &gt; range) numWeights = range;
<a name="l01163"></a>01163         
<a name="l01164"></a>01164         <span class="comment">// build cutoff points based on weights</span>
<a name="l01165"></a>01165         <span class="keywordtype">double</span>* cutoffs = (<span class="keywordtype">double</span>*) alloca(<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*range);
<a name="l01166"></a>01166         <span class="keywordtype">double</span>* weights = (<span class="keywordtype">double</span>*) alloca(<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*range);
<a name="l01167"></a>01167         <span class="keywordtype">double</span> total = 0;
<a name="l01168"></a>01168         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; range; i++) {
<a name="l01169"></a>01169             <span class="keywordtype">double</span> weight = i &lt; numWeights ? params[i+3] : 1;
<a name="l01170"></a>01170             total += weight;
<a name="l01171"></a>01171             cutoffs[i] = total;
<a name="l01172"></a>01172             weights[i] = weight;
<a name="l01173"></a>01173         }
<a name="l01174"></a>01174 
<a name="l01175"></a>01175         <span class="keywordflow">if</span> (total == 0) <span class="keywordflow">return</span> loRange;
<a name="l01176"></a>01176 
<a name="l01177"></a>01177         <span class="comment">// scale value from [0..1] to [0..total] range</span>
<a name="l01178"></a>01178         index *= total;
<a name="l01179"></a>01179     
<a name="l01180"></a>01180         <span class="comment">// bsearch cutoff table to find index that spans value</span>
<a name="l01181"></a>01181         <span class="keywordtype">int</span> lo = 0, hi = range-1;
<a name="l01182"></a>01182         <span class="keywordflow">while</span> (lo &lt; hi) {
<a name="l01183"></a>01183             <span class="keywordtype">int</span> m = (lo+hi)/2;
<a name="l01184"></a>01184             <span class="keywordflow">if</span> (index &lt;= cutoffs[m]) hi = m;
<a name="l01185"></a>01185             <span class="keywordflow">else</span> lo = m+1;
<a name="l01186"></a>01186         }
<a name="l01187"></a>01187 
<a name="l01188"></a>01188         <span class="comment">// skip zero-length intervals</span>
<a name="l01189"></a>01189         <span class="keywordflow">if</span> (weights[lo] == 0) {
<a name="l01190"></a>01190             <span class="keywordflow">if</span> (lo &gt; 0 &amp;&amp; cutoffs[lo] &gt; 0) <span class="comment">// scan backward if possible</span>
<a name="l01191"></a>01191                 <span class="keywordflow">while</span> (--lo &gt; 0 &amp;&amp; weights[lo] == 0);
<a name="l01192"></a>01192             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lo &lt; range-1)      <span class="comment">// else scan forward if possible</span>
<a name="l01193"></a>01193                 <span class="keywordflow">while</span> (++lo &lt; range-1 &amp;&amp; weights[lo] == 0);
<a name="l01194"></a>01194         }
<a name="l01195"></a>01195 
<a name="l01196"></a>01196         <span class="comment">// add offset and return result</span>
<a name="l01197"></a>01197         <span class="keywordflow">return</span> loRange + lo;
<a name="l01198"></a>01198     }
<a name="l01199"></a><a class="code" href="namespaceSeExpr.html#a53cccc31f929a55616e1992efbefe9e6">01199</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a53cccc31f929a55616e1992efbefe9e6">pick_docstring</a>=
<a name="l01200"></a>01200         <span class="stringliteral">&quot;int pick(float index, int loRange, int hiRange, [float weights, ...] )\n&quot;</span>
<a name="l01201"></a>01201         <span class="stringliteral">&quot;Picks values randomly between loRange and hiRange based on supplied index (which is\n&quot;</span>
<a name="l01202"></a>01202         <span class="stringliteral">&quot;automatically hashed).&amp;nbsp; The values will be distributed according\n&quot;</span>
<a name="l01203"></a>01203         <span class="stringliteral">&quot;to the supplied weights.&amp;nbsp; Any weights not supplied are assumed to\n&quot;</span>
<a name="l01204"></a>01204         <span class="stringliteral">&quot;be 1.0.&quot;</span>;
<a name="l01205"></a>01205 
<a name="l01206"></a>01206     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#af521c28ccdfe87a910980c342c4195bc">choose</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">double</span>* params)
<a name="l01207"></a>01207     {
<a name="l01208"></a>01208         <span class="keywordflow">if</span> (n &lt; 3) <span class="keywordflow">return</span> 0;
<a name="l01209"></a>01209         <span class="keywordtype">double</span> key = params[0];
<a name="l01210"></a>01210         <span class="keywordtype">int</span> nvals = n - 1;
<a name="l01211"></a>01211         <span class="keywordflow">return</span> params[1+int(<a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(key * nvals, 0, nvals-1))];
<a name="l01212"></a>01212     }
<a name="l01213"></a><a class="code" href="namespaceSeExpr.html#a199f974a27b782a1cc8a5a2402926298">01213</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a199f974a27b782a1cc8a5a2402926298">choose_docstring</a>=
<a name="l01214"></a>01214         <span class="stringliteral">&quot;float choose(float index,float choice1, float choice2, [...])\n&quot;</span>
<a name="l01215"></a>01215         <span class="stringliteral">&quot;Chooses one of the supplied choices based on the index (assumed to be in range [0..1]).&quot;</span>;
<a name="l01216"></a>01216 
<a name="l01217"></a>01217 
<a name="l01218"></a>01218     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#ac07c32ff89a9ed9325da33f9e556c11f">wchoose</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">double</span>* params)
<a name="l01219"></a>01219     {
<a name="l01220"></a>01220         <span class="keywordflow">if</span> (n &lt; 5) <span class="keywordflow">return</span> 0;
<a name="l01221"></a>01221         <span class="keywordtype">double</span> key = params[0];
<a name="l01222"></a>01222         <span class="keywordtype">int</span> nvals = (n - 1) / 2; <span class="comment">// nweights = nvals</span>
<a name="l01223"></a>01223         
<a name="l01224"></a>01224         <span class="comment">// build cutoff points based on weights</span>
<a name="l01225"></a>01225         <span class="keywordtype">double</span>* cutoffs = (<span class="keywordtype">double</span>*) alloca(<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*nvals);
<a name="l01226"></a>01226         <span class="keywordtype">double</span>* weights = (<span class="keywordtype">double</span>*) alloca(<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*nvals);
<a name="l01227"></a>01227         <span class="keywordtype">double</span> total = 0;
<a name="l01228"></a>01228         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nvals; i++) {
<a name="l01229"></a>01229             <span class="keywordtype">double</span> weight = params[i*2+2];
<a name="l01230"></a>01230             total += weight;
<a name="l01231"></a>01231             cutoffs[i] = total;
<a name="l01232"></a>01232             weights[i] = weight;
<a name="l01233"></a>01233         }
<a name="l01234"></a>01234 
<a name="l01235"></a>01235         <span class="keywordflow">if</span> (total == 0) <span class="keywordflow">return</span> params[1];
<a name="l01236"></a>01236 
<a name="l01237"></a>01237         <span class="comment">// scale value from [0..1] to [0..total] range</span>
<a name="l01238"></a>01238         key *= total;
<a name="l01239"></a>01239     
<a name="l01240"></a>01240         <span class="comment">// bsearch cutoff table to find index that spans value</span>
<a name="l01241"></a>01241         <span class="keywordtype">int</span> lo = 0, hi = nvals-1;
<a name="l01242"></a>01242         <span class="keywordflow">while</span> (lo &lt; hi) {
<a name="l01243"></a>01243             <span class="keywordtype">int</span> m = (lo+hi)/2;
<a name="l01244"></a>01244             <span class="keywordflow">if</span> (key &lt;= cutoffs[m]) hi = m;
<a name="l01245"></a>01245             <span class="keywordflow">else</span> lo = m+1;
<a name="l01246"></a>01246         }
<a name="l01247"></a>01247 
<a name="l01248"></a>01248         <span class="comment">// skip zero-length intervals</span>
<a name="l01249"></a>01249         <span class="keywordflow">if</span> (weights[lo] == 0) {
<a name="l01250"></a>01250             <span class="keywordflow">if</span> (lo &gt; 0 &amp;&amp; cutoffs[lo] &gt; 0) <span class="comment">// scan backward if possible</span>
<a name="l01251"></a>01251                 <span class="keywordflow">while</span> (--lo &gt; 0 &amp;&amp; weights[lo] == 0);
<a name="l01252"></a>01252             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lo &lt; nvals-1)      <span class="comment">// else scan forward if possible</span>
<a name="l01253"></a>01253                 <span class="keywordflow">while</span> (++lo &lt; nvals-1 &amp;&amp; weights[lo] == 0);
<a name="l01254"></a>01254         }
<a name="l01255"></a>01255 
<a name="l01256"></a>01256         <span class="comment">// return corresponding value</span>
<a name="l01257"></a>01257         <span class="keywordflow">return</span> params[lo*2+1];
<a name="l01258"></a>01258     }
<a name="l01259"></a><a class="code" href="namespaceSeExpr.html#a132fabbe9bcc3f36d1f560385864d197">01259</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a132fabbe9bcc3f36d1f560385864d197">wchoose_docstring</a>=
<a name="l01260"></a>01260         <span class="stringliteral">&quot;float wchoose(float index,float choice1, float weight1, float choice2, float weight2, [...] )\n&quot;</span>
<a name="l01261"></a>01261         <span class="stringliteral">&quot;Chooses one of the supplied choices based on the index (assumed to be in range[0..1]).\n&quot;</span>
<a name="l01262"></a>01262         <span class="stringliteral">&quot;The values will be distributed according to the supplied weights.&quot;</span>;
<a name="l01263"></a>01263 
<a name="l01264"></a>01264     <span class="keywordtype">double</span> <a class="code" href="namespaceSeExpr.html#a745f243263b1cbcee8bbcf7501367191">spline</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">double</span>* params)
<a name="l01265"></a>01265     {
<a name="l01266"></a>01266         <span class="keywordflow">if</span> (n &lt; 5) <span class="keywordflow">return</span> 0;
<a name="l01267"></a>01267         <span class="keywordtype">double</span> u = <a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>(params[0], 0, 1);
<a name="l01268"></a>01268         <span class="keywordflow">if</span> (u == 0) <span class="keywordflow">return</span> params[2];
<a name="l01269"></a>01269         <span class="keywordflow">if</span> (u == 1) <span class="keywordflow">return</span> params[n-2];
<a name="l01270"></a>01270         <span class="keywordtype">int</span> nsegs = n - 4;
<a name="l01271"></a>01271         <span class="keywordtype">double</span> seg;
<a name="l01272"></a>01272         u = modf(u * nsegs, &amp;seg);
<a name="l01273"></a>01273         <span class="keywordtype">double</span>* p = &amp;params[int(seg) + 1];
<a name="l01274"></a>01274         <span class="keywordtype">double</span> u2 = u*u;
<a name="l01275"></a>01275         <span class="keywordtype">double</span> u3 = u2*u;
<a name="l01276"></a>01276         <span class="keywordflow">return</span> 0.5 * (p[0] * (  -u3 + 2*u2 - u) +
<a name="l01277"></a>01277                       p[1] * ( 3*u3 - 5*u2 + 2) +
<a name="l01278"></a>01278                       p[2] * (-3*u3 + 4*u2 + u) +
<a name="l01279"></a>01279                       p[3] * (   u3 -   u2));
<a name="l01280"></a>01280     }
<a name="l01281"></a><a class="code" href="namespaceSeExpr.html#a33f23877c5309082c1abee9babd144f9">01281</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a33f23877c5309082c1abee9babd144f9">spline_docstring</a>=
<a name="l01282"></a>01282         <span class="stringliteral">&quot;float spline(float param,float y1,float y2,float y3,float y4,[...])\n\n&quot;</span>
<a name="l01283"></a>01283         <span class="stringliteral">&quot;Interpolates a set of values to the parameter specified where y1, ..., yn are\n&quot;</span>
<a name="l01284"></a>01284         <span class="stringliteral">&quot;distributed evenly from [0...1]&quot;</span>;
<a name="l01285"></a>01285 
<a name="l01286"></a>01286     <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; 
<a name="l01287"></a><a class="code" href="structSeExpr_1_1CurveData.html">01287</a>     <span class="keyword">struct </span><a class="code" href="structSeExpr_1_1CurveData.html">CurveData</a>:<span class="keyword">public</span> <a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>::Data
<a name="l01288"></a>01288     {
<a name="l01289"></a><a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">01289</a>         <a class="code" href="classSeExpr_1_1SeCurve.html" title="Interpolation curve class for double-&amp;gt;double and double-&amp;gt;SeVec3D.">SeCurve&lt;T&gt;</a> <a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>;
<a name="l01290"></a><a class="code" href="structSeExpr_1_1CurveData.html#affb9835a7866ce73558146ca12c4e193">01290</a>         <span class="keyword">virtual</span> <a class="code" href="structSeExpr_1_1CurveData.html#affb9835a7866ce73558146ca12c4e193">~CurveData</a>(){}
<a name="l01291"></a>01291     };
<a name="l01292"></a>01292 
<a name="l01293"></a>01293 
<a name="l01294"></a><a class="code" href="classSeExpr_1_1CurveFuncX.html">01294</a>     <span class="keyword">class </span><a class="code" href="classSeExpr_1_1CurveFuncX.html">CurveFuncX</a>:<span class="keyword">public</span> <a class="code" href="classSeExprFuncX.html" title="Extension function spec, used for complicated argument custom functions.">SeExprFuncX</a>
<a name="l01295"></a>01295     {
<a name="l01296"></a><a class="code" href="classSeExpr_1_1CurveFuncX.html#a36a009bb3755e905cbcda3964a4847bf">01296</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSeExpr_1_1CurveFuncX.html#a36a009bb3755e905cbcda3964a4847bf">prep</a>(<a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>* node, <span class="keywordtype">bool</span> wantVec, std::string&amp; error)
<a name="l01297"></a>01297         {
<a name="l01298"></a>01298             <span class="comment">// check number of arguments</span>
<a name="l01299"></a>01299             <span class="keywordtype">int</span> nargs = node-&gt;<a class="code" href="classSeExprFuncNode.html#a1aa2ae6695da6de36535cfbc7b531707" title="return the number of arguments">nargs</a>();
<a name="l01300"></a>01300             <span class="keywordflow">if</span> ((nargs - 1) % 3) {
<a name="l01301"></a>01301                 node-&gt;<a class="code" href="classSeExprNode.html#aef5d6237e6ca35c5cd6b5a963b66a98e" title="Register error.">addError</a>(<span class="stringliteral">&quot;Wrong number of arguments, should be multiple of 3 plus 1&quot;</span>);
<a name="l01302"></a>01302                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01303"></a>01303             }
<a name="l01304"></a>01304             
<a name="l01305"></a>01305             <span class="keywordtype">bool</span> noErrors=<span class="keyword">true</span>;
<a name="l01306"></a>01306             noErrors &amp;= node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(0)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(1, error);
<a name="l01307"></a>01307             
<a name="l01308"></a>01308             <a class="code" href="structSeExpr_1_1CurveData.html">CurveData&lt;double&gt;</a>* <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a> = <span class="keyword">new</span> <a class="code" href="structSeExpr_1_1CurveData.html">CurveData&lt;double&gt;</a>;
<a name="l01309"></a>01309             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; nargs-2; i+=3) {
<a name="l01310"></a>01310                 
<a name="l01311"></a>01311                 <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> pos;
<a name="l01312"></a>01312                 <span class="keywordflow">if</span>(node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(0, error)) node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(pos);
<a name="l01313"></a>01313                 <span class="keywordflow">else</span> noErrors=<span class="keyword">false</span>;
<a name="l01314"></a>01314                 
<a name="l01315"></a>01315                 <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> val;
<a name="l01316"></a>01316                 <span class="keywordflow">if</span>(node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+1)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(0, error)) node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+1)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(val);
<a name="l01317"></a>01317                 <span class="keywordflow">else</span> noErrors=<span class="keyword">false</span>;
<a name="l01318"></a>01318                 
<a name="l01319"></a>01319                 <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> interp;
<a name="l01320"></a>01320                 <span class="keywordflow">if</span>(node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+2)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(0, error)) node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+2)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(interp);
<a name="l01321"></a>01321                 <span class="keywordflow">else</span> noErrors=<span class="keyword">false</span>;
<a name="l01322"></a>01322                 <span class="keywordtype">int</span> interpInt=(int)interp[0];                
<a name="l01323"></a>01323                 <a class="code" href="classSeExpr_1_1SeCurve.html#ae5318d67ebdccbb8d961bf121b41c52a" title="Supported interpolation types.">SeCurve&lt;double&gt;::InterpType</a> interpolant=(<a class="code" href="classSeExpr_1_1SeCurve.html#ae5318d67ebdccbb8d961bf121b41c52a" title="Supported interpolation types.">SeCurve&lt;double&gt;::InterpType</a>)interpInt;
<a name="l01324"></a>01324                 <span class="keywordflow">if</span>(!<a class="code" href="classSeExpr_1_1SeCurve.html" title="Interpolation curve class for double-&amp;gt;double and double-&amp;gt;SeVec3D.">SeCurve&lt;double&gt;::interpTypeValid</a>(interpolant)){
<a name="l01325"></a>01325                     node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+2)-&gt;<a class="code" href="classSeExprNode.html#aef5d6237e6ca35c5cd6b5a963b66a98e" title="Register error.">addError</a>(<span class="stringliteral">&quot;Invalid interpolation type specified&quot;</span>);
<a name="l01326"></a>01326                     noErrors=<span class="keyword">false</span>;
<a name="l01327"></a>01327                 }
<a name="l01328"></a>01328 
<a name="l01329"></a>01329                 data-&gt;<a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>.addPoint(pos[0], val[0], interpolant);
<a name="l01330"></a>01330             }
<a name="l01331"></a>01331             
<a name="l01332"></a>01332             data-&gt;<a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>.preparePoints();
<a name="l01333"></a>01333             
<a name="l01334"></a>01334             node-&gt;<a class="code" href="classSeExprFuncNode.html#a2ec05bcf76de5edc437365737d2d8d0b" title="associate blind data with this node (subsequently owned by this object)">setData</a>((<a class="code" href="structSeExprFuncNode_1_1Data.html" title="base class for custom instance data">SeExprFuncNode::Data</a>*)(data));
<a name="l01335"></a>01335             <span class="keywordflow">return</span> noErrors;
<a name="l01336"></a>01336         }
<a name="l01337"></a>01337     
<a name="l01338"></a><a class="code" href="classSeExpr_1_1CurveFuncX.html#ad30d942bc7fd60936f7bb60243cf8f14">01338</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSeExpr_1_1CurveFuncX.html#ad30d942bc7fd60936f7bb60243cf8f14">eval</a>(<span class="keyword">const</span> <a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>* node, <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; result)<span class="keyword"> const </span>
<a name="l01339"></a>01339 <span class="keyword">        </span>{
<a name="l01340"></a>01340             <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> param;
<a name="l01341"></a>01341             node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(0)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(param);
<a name="l01342"></a>01342             <span class="keywordtype">bool</span> processVec = node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(0)-&gt;<a class="code" href="classSeExprNode.html#a75076d80f237e6ad4260427c052cbba3" title="True if node has a vector result.">isVec</a>();
<a name="l01343"></a>01343             
<a name="l01344"></a>01344             <a class="code" href="structSeExpr_1_1CurveData.html">CurveData&lt;double&gt;</a> *<a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a> = (<a class="code" href="structSeExpr_1_1CurveData.html">CurveData&lt;double&gt;</a> *) node-&gt;<a class="code" href="classSeExprFuncNode.html#aa13cef030c10335107aec8625f0eaecc" title="get associated blind data (returns 0 if none)">getData</a>();
<a name="l01345"></a>01345             
<a name="l01346"></a>01346             <span class="keywordflow">if</span> (processVec) {
<a name="l01347"></a>01347                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++) result[i] = data-&gt;<a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>.getChannelValue(param[i], i);
<a name="l01348"></a>01348             } <span class="keywordflow">else</span> {
<a name="l01349"></a>01349                 result[0]=result[1]=result[2]=data-&gt;<a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>.getValue(param[0]);
<a name="l01350"></a>01350             }
<a name="l01351"></a>01351         }
<a name="l01352"></a>01352     
<a name="l01353"></a>01353     
<a name="l01354"></a>01354     <span class="keyword">public</span>:
<a name="l01355"></a><a class="code" href="classSeExpr_1_1CurveFuncX.html#ab7ea3628e7aa125d0190c7143f3ea06f">01355</a>         <a class="code" href="classSeExpr_1_1CurveFuncX.html#ab7ea3628e7aa125d0190c7143f3ea06f">CurveFuncX</a>():<a class="code" href="classSeExprFuncX.html" title="Extension function spec, used for complicated argument custom functions.">SeExprFuncX</a>(true){} <span class="comment">// Thread Safe</span>
<a name="l01356"></a><a class="code" href="classSeExpr_1_1CurveFuncX.html#ae5f8c75926ee4ae91f648799ce613e82">01356</a>         <span class="keyword">virtual</span> <a class="code" href="classSeExpr_1_1CurveFuncX.html#ae5f8c75926ee4ae91f648799ce613e82">~CurveFuncX</a>() {}
<a name="l01357"></a>01357     
<a name="l01358"></a>01358     
<a name="l01359"></a>01359     } <a class="code" href="namespaceSeExpr.html#afc0a4ef5bf616eab6cf3c8e0b1c3e528">curve</a>;
<a name="l01360"></a><a class="code" href="namespaceSeExpr.html#a590d11f07bf9d2125385884087c52cd8">01360</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceSeExpr.html#a590d11f07bf9d2125385884087c52cd8">curve_docstring</a>=
<a name="l01361"></a>01361         <span class="stringliteral">&quot;float curve(float param,float pos0,float val0,int interp0,float pos1,float val1,int interp1,[...])\n\n&quot;</span>
<a name="l01362"></a>01362         <span class="stringliteral">&quot;Interpolates a 1D ramp defined by control points at &apos;param&apos;. Control points are specified \n&quot;</span>
<a name="l01363"></a>01363         <span class="stringliteral">&quot;by triples of parameters pos_i, val_i, and interp_i. Interpolation codes are \n&quot;</span>
<a name="l01364"></a>01364         <span class="stringliteral">&quot;0 - none, 1 - linear, 2 - smooth, 3 - spline, \n&quot;</span>
<a name="l01365"></a>01365         <span class="stringliteral">&quot;4-monotone (non oscillating spline)&quot;</span>;
<a name="l01366"></a>01366     
<a name="l01367"></a><a class="code" href="classSeExpr_1_1CCurveFuncX.html">01367</a>     <span class="keyword">class </span><a class="code" href="classSeExpr_1_1CCurveFuncX.html">CCurveFuncX</a>:<span class="keyword">public</span> <a class="code" href="classSeExprFuncX.html" title="Extension function spec, used for complicated argument custom functions.">SeExprFuncX</a>
<a name="l01368"></a>01368     {
<a name="l01369"></a><a class="code" href="classSeExpr_1_1CCurveFuncX.html#a801c05d5ffd459af093a9af3f301045b">01369</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSeExpr_1_1CCurveFuncX.html#a801c05d5ffd459af093a9af3f301045b">prep</a>(<a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>* node, <span class="keywordtype">bool</span> wantVec, std::string&amp; error)
<a name="l01370"></a>01370         {
<a name="l01371"></a>01371             <span class="comment">// check number of arguments</span>
<a name="l01372"></a>01372             <span class="keywordtype">int</span> nargs = node-&gt;<a class="code" href="classSeExprFuncNode.html#a1aa2ae6695da6de36535cfbc7b531707" title="return the number of arguments">nargs</a>();
<a name="l01373"></a>01373             <span class="keywordflow">if</span> ((nargs - 1) % 3) {
<a name="l01374"></a>01374                 node-&gt;<a class="code" href="classSeExprNode.html#aef5d6237e6ca35c5cd6b5a963b66a98e" title="Register error.">addError</a>(<span class="stringliteral">&quot;Wrong number of arguments, should be multiple of 3 plus 1&quot;</span>);
<a name="l01375"></a>01375                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01376"></a>01376             }
<a name="l01377"></a>01377             <span class="keywordtype">bool</span> noErrors=<span class="keyword">true</span>;
<a name="l01378"></a>01378             noErrors &amp;= node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(0)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(1, error); <span class="comment">// parameter value</span>
<a name="l01379"></a>01379             
<a name="l01380"></a>01380             <a class="code" href="structSeExpr_1_1CurveData.html">CurveData&lt;SeVec3d&gt;</a>* <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a> = <span class="keyword">new</span> <a class="code" href="structSeExpr_1_1CurveData.html">CurveData&lt;SeVec3d&gt;</a>;
<a name="l01381"></a>01381             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; nargs-2; i+=3) {
<a name="l01382"></a>01382                 <span class="comment">// position of cv</span>
<a name="l01383"></a>01383                 <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> pos;
<a name="l01384"></a>01384                 <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(0, error)) node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(pos);
<a name="l01385"></a>01385                 <span class="keywordflow">else</span> noErrors=<span class="keyword">false</span>;
<a name="l01386"></a>01386                 <span class="comment">// value of cv, if not vector promote i</span>
<a name="l01387"></a>01387                 <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> val;
<a name="l01388"></a>01388                 <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+1)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(1, error)){
<a name="l01389"></a>01389                     node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+1)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(val);
<a name="l01390"></a>01390                     <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+1)-&gt;<a class="code" href="classSeExprNode.html#a75076d80f237e6ad4260427c052cbba3" title="True if node has a vector result.">isVec</a>()) {
<a name="l01391"></a>01391                         val[1] = val[2] = val[0];
<a name="l01392"></a>01392                     }
<a name="l01393"></a>01393                 }<span class="keywordflow">else</span> noErrors=<span class="keyword">false</span>;
<a name="l01394"></a>01394                 <span class="comment">// interpolation type</span>
<a name="l01395"></a>01395                 <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> interp;
<a name="l01396"></a>01396                 <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+2)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(0, error)) node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+2)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(interp);
<a name="l01397"></a>01397                 <span class="keywordflow">else</span> noErrors=<span class="keyword">false</span>;
<a name="l01398"></a>01398                 <a class="code" href="classSeExpr_1_1SeCurve.html#ae5318d67ebdccbb8d961bf121b41c52a" title="Supported interpolation types.">SeCurve&lt;SeVec3d&gt;::InterpType</a> interpolant=(<a class="code" href="classSeExpr_1_1SeCurve.html#ae5318d67ebdccbb8d961bf121b41c52a" title="Supported interpolation types.">SeCurve&lt;SeVec3d&gt;::InterpType</a>)(<span class="keywordtype">int</span>)interp[0];
<a name="l01399"></a>01399                 <span class="keywordflow">if</span>(!<a class="code" href="classSeExpr_1_1SeCurve.html" title="Interpolation curve class for double-&amp;gt;double and double-&amp;gt;SeVec3D.">SeCurve&lt;SeVec3d&gt;::interpTypeValid</a>(interpolant)){
<a name="l01400"></a>01400                     node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i+2)-&gt;<a class="code" href="classSeExprNode.html#aef5d6237e6ca35c5cd6b5a963b66a98e" title="Register error.">addError</a>(<span class="stringliteral">&quot;Invalid interpolation type specified&quot;</span>);
<a name="l01401"></a>01401                     noErrors=<span class="keyword">false</span>;
<a name="l01402"></a>01402                 }
<a name="l01403"></a>01403                 <span class="comment">// add to list</span>
<a name="l01404"></a>01404                 data-&gt;<a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>.addPoint(pos[0], val, interpolant);
<a name="l01405"></a>01405             }
<a name="l01406"></a>01406 
<a name="l01407"></a>01407             data-&gt;<a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>.preparePoints();
<a name="l01408"></a>01408             node-&gt;<a class="code" href="classSeExprFuncNode.html#a2ec05bcf76de5edc437365737d2d8d0b" title="associate blind data with this node (subsequently owned by this object)">setData</a>((<a class="code" href="structSeExprFuncNode_1_1Data.html" title="base class for custom instance data">SeExprFuncNode::Data</a>*)(data));
<a name="l01409"></a>01409             <span class="keywordflow">return</span> noErrors;
<a name="l01410"></a>01410         }
<a name="l01411"></a>01411         
<a name="l01412"></a><a class="code" href="classSeExpr_1_1CCurveFuncX.html#a6e2beabc81a698616faeffa5dc49fce8">01412</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSeExpr_1_1CCurveFuncX.html#a6e2beabc81a698616faeffa5dc49fce8">eval</a>(<span class="keyword">const</span> <a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>* node, <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; result)<span class="keyword"> const </span>
<a name="l01413"></a>01413 <span class="keyword">        </span>{
<a name="l01414"></a>01414             <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> param;
<a name="l01415"></a>01415             node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(0)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(param);
<a name="l01416"></a>01416             <span class="keywordtype">bool</span> processVec = node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(0)-&gt;<a class="code" href="classSeExprNode.html#a75076d80f237e6ad4260427c052cbba3" title="True if node has a vector result.">isVec</a>();
<a name="l01417"></a>01417             
<a name="l01418"></a>01418             <a class="code" href="structSeExpr_1_1CurveData.html">CurveData&lt;SeVec3d&gt;</a> *<a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a> = (<a class="code" href="structSeExpr_1_1CurveData.html">CurveData&lt;SeVec3d&gt;</a> *) node-&gt;<a class="code" href="classSeExprFuncNode.html#aa13cef030c10335107aec8625f0eaecc" title="get associated blind data (returns 0 if none)">getData</a>();
<a name="l01419"></a>01419             
<a name="l01420"></a>01420             <span class="keywordflow">if</span>(processVec) {
<a name="l01421"></a>01421                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++) result[i] = data-&gt;<a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>.getChannelValue(param[i], i);
<a name="l01422"></a>01422             } <span class="keywordflow">else</span> {
<a name="l01423"></a>01423                 result=data-&gt;<a class="code" href="structSeExpr_1_1CurveData.html#a8450330d3ae70031536c67a0bbed2411">curve</a>.getValue(param[0]);
<a name="l01424"></a>01424             }
<a name="l01425"></a>01425         }
<a name="l01426"></a>01426     
<a name="l01427"></a>01427     <span class="keyword">public</span>:
<a name="l01428"></a><a class="code" href="classSeExpr_1_1CCurveFuncX.html#ad382d5beead7188c6237dfd28a766a9d">01428</a>         <a class="code" href="classSeExpr_1_1CCurveFuncX.html#ad382d5beead7188c6237dfd28a766a9d">CCurveFuncX</a>():<a class="code" href="classSeExprFuncX.html" title="Extension function spec, used for complicated argument custom functions.">SeExprFuncX</a>(true){}  <span class="comment">// Thread Safe</span>
<a name="l01429"></a><a class="code" href="classSeExpr_1_1CCurveFuncX.html#a0d42f288065aee5952318cb007356d21">01429</a>         <span class="keyword">virtual</span> <a class="code" href="classSeExpr_1_1CCurveFuncX.html#a0d42f288065aee5952318cb007356d21">~CCurveFuncX</a>() {}
<a name="l01430"></a>01430     } <a class="code" href="namespaceSeExpr.html#a15c1058b2a85e4a22ee9a6d114af8323">ccurve</a>;
<a name="l01431"></a><a class="code" href="namespaceSeExpr.html#a3995bfc2a07054e699b7cc3197651570">01431</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceSeExpr.html#a3995bfc2a07054e699b7cc3197651570">ccurve_docstring</a>=
<a name="l01432"></a>01432         <span class="stringliteral">&quot;color curve(float param,float pos0,color val0,int interp0,float pos1,color val1,int interp1,[...])\n\n&quot;</span>
<a name="l01433"></a>01433         <span class="stringliteral">&quot;Interpolates color ramp given by control points at &apos;param&apos;. Control points are specified \n&quot;</span>
<a name="l01434"></a>01434         <span class="stringliteral">&quot;by triples of parameters pos_i, val_i, and interp_i. Interpolation codes are \n&quot;</span>
<a name="l01435"></a>01435         <span class="stringliteral">&quot;0 - none, 1 - linear, 2 - smooth, 3 - spline, \n&quot;</span>
<a name="l01436"></a>01436         <span class="stringliteral">&quot;4 - monotone (non oscillating spline)&quot;</span>;
<a name="l01437"></a>01437 
<a name="l01438"></a><a class="code" href="classSeExpr_1_1PrintFuncX.html">01438</a>     <span class="keyword">class </span><a class="code" href="classSeExpr_1_1PrintFuncX.html">PrintFuncX</a>:<span class="keyword">public</span> <a class="code" href="classSeExprFuncX.html" title="Extension function spec, used for complicated argument custom functions.">SeExprFuncX</a>
<a name="l01439"></a>01439     {
<a name="l01440"></a><a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html">01440</a>         <span class="keyword">struct </span><a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html">Data</a> : <span class="keyword">public</span> <a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>::<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html">Data</a>
<a name="l01441"></a>01441         {
<a name="l01442"></a><a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a9e15bad4d85a31cd4db0691a6af68f2f">01442</a>             std::vector&lt;std::pair&lt;int,int&gt; &gt; <a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a9e15bad4d85a31cd4db0691a6af68f2f">ranges</a>;
<a name="l01443"></a><a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a11fc2c06702a75f88734ed5214fb3801">01443</a>             std::string <a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a11fc2c06702a75f88734ed5214fb3801">format</a>;
<a name="l01444"></a>01444         };
<a name="l01445"></a>01445             
<a name="l01446"></a><a class="code" href="classSeExpr_1_1PrintFuncX.html#ab95232ec326cc435dc5465eddecb1e20">01446</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSeExpr_1_1PrintFuncX.html#ab95232ec326cc435dc5465eddecb1e20">prep</a>(<a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>* node, <span class="keywordtype">bool</span> wantVec, std::string&amp; error)
<a name="l01447"></a>01447         {
<a name="l01448"></a>01448             <span class="comment">// check number of arguments</span>
<a name="l01449"></a>01449             <span class="keywordtype">int</span> nargs = node-&gt;<a class="code" href="classSeExprFuncNode.html#a1aa2ae6695da6de36535cfbc7b531707" title="return the number of arguments">nargs</a>();
<a name="l01450"></a>01450             <span class="keywordflow">if</span>(!node-&gt;<a class="code" href="classSeExprFuncNode.html#a1372825328947e122afd008a214c39a4" title="returns whether the nth argument is a string (use in prep)">isStrArg</a>(0)){
<a name="l01451"></a>01451                 node-&gt;<a class="code" href="classSeExprNode.html#aef5d6237e6ca35c5cd6b5a963b66a98e" title="Register error.">addError</a>(<span class="stringliteral">&quot;first argument must be format&quot;</span>);
<a name="l01452"></a>01452                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01453"></a>01453             }
<a name="l01454"></a>01454 
<a name="l01455"></a>01455             <span class="keywordtype">bool</span> valid=<span class="keyword">true</span>;
<a name="l01456"></a>01456             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=1;i&lt;nargs;i++)
<a name="l01457"></a>01457                 valid&amp;=node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(i)-&gt;<a class="code" href="classSeExprNode.html#ab5730ecb8ab806fd76dee0292115d2ee">prep</a>(1,error);
<a name="l01458"></a>01458             <span class="keywordflow">if</span>(!valid) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01459"></a>01459 
<a name="l01460"></a>01460             <span class="comment">// parse format string</span>
<a name="l01461"></a>01461             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bakeStart=0;
<a name="l01462"></a>01462             <span class="keywordtype">int</span> searchStart=0;
<a name="l01463"></a>01463             <span class="keywordtype">int</span> needed=0;
<a name="l01464"></a>01464             <a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html">Data</a>* <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>=<span class="keyword">new</span> <a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html">Data</a>;
<a name="l01465"></a>01465             data-&gt;<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a11fc2c06702a75f88734ed5214fb3801">format</a>=node-&gt;<a class="code" href="classSeExprFuncNode.html#a531d64cbe8ba396d89dbd55080112bc0" title="get nth string argument (use in prep)">getStrArg</a>(0);
<a name="l01466"></a>01466             std::string&amp; format=data-&gt;<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a11fc2c06702a75f88734ed5214fb3801">format</a>;
<a name="l01467"></a>01467             std::vector&lt;std::pair&lt;int,int&gt; &gt;&amp; ranges=data-&gt;<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a9e15bad4d85a31cd4db0691a6af68f2f">ranges</a>;
<a name="l01468"></a>01468 
<a name="l01469"></a>01469             <span class="keywordtype">int</span> items=0;
<a name="l01470"></a>01470             <span class="keywordflow">while</span>(1){
<a name="l01471"></a>01471                 std::size_t percentStart=format.find(<span class="charliteral">&apos;%&apos;</span>,searchStart);
<a name="l01472"></a>01472                 <span class="keywordflow">if</span>(percentStart==std::string::npos) <span class="keywordflow">break</span>;
<a name="l01473"></a>01473                 <span class="keywordflow">if</span>(percentStart+1==format.length()){
<a name="l01474"></a>01474                     node-&gt;<a class="code" href="classSeExprNode.html#aef5d6237e6ca35c5cd6b5a963b66a98e" title="Register error.">addError</a>(<span class="stringliteral">&quot;Unexpected end of format string&quot;</span>);
<a name="l01475"></a>01475                     <span class="keyword">delete</span> data;
<a name="l01476"></a>01476                     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01477"></a>01477                 }
<a name="l01478"></a>01478                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(format[percentStart+1]==<span class="charliteral">&apos;%&apos;</span>){
<a name="l01479"></a>01479                     searchStart=percentStart+2;
<a name="l01480"></a>01480                     <span class="keywordflow">continue</span>;
<a name="l01481"></a>01481                 }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(format[percentStart+1]==<span class="charliteral">&apos;v&apos;</span> || format[percentStart+1]==<span class="charliteral">&apos;f&apos;</span>){
<a name="l01482"></a>01482                     <span class="keywordtype">char</span> c=format[percentStart+1];
<a name="l01483"></a>01483                     <span class="keywordtype">int</span> code=(c==<span class="charliteral">&apos;v&apos;</span>)?-1:-2;
<a name="l01484"></a>01484                     needed++;
<a name="l01485"></a>01485                     <span class="keywordflow">if</span>(bakeStart!=percentStart)
<a name="l01486"></a>01486                         ranges.push_back(std::pair&lt;int,int&gt;(bakeStart,percentStart));
<a name="l01487"></a>01487                     ranges.push_back(std::pair&lt;int,int&gt;(code,code));
<a name="l01488"></a>01488                     items++;
<a name="l01489"></a>01489                     searchStart=percentStart+2;
<a name="l01490"></a>01490                     bakeStart=searchStart;
<a name="l01491"></a>01491                 }<span class="keywordflow">else</span>{
<a name="l01492"></a>01492                     node-&gt;<a class="code" href="classSeExprNode.html#aef5d6237e6ca35c5cd6b5a963b66a98e" title="Register error.">addError</a>(<span class="stringliteral">&quot;Invalid format string, only %v is allowed&quot;</span>);
<a name="l01493"></a>01493                     <span class="keyword">delete</span> data;
<a name="l01494"></a>01494                     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01495"></a>01495                 }
<a name="l01496"></a>01496             }
<a name="l01497"></a>01497             <span class="keywordflow">if</span>(bakeStart!=format.length())
<a name="l01498"></a>01498                 ranges.push_back(std::pair&lt;int,int&gt;(bakeStart,format.length()));
<a name="l01499"></a>01499 
<a name="l01500"></a>01500             <span class="keywordflow">if</span>(items!=nargs-1){
<a name="l01501"></a>01501                 node-&gt;<a class="code" href="classSeExprNode.html#aef5d6237e6ca35c5cd6b5a963b66a98e" title="Register error.">addError</a>(<span class="stringliteral">&quot;Wrong number of arguments for format string&quot;</span>);
<a name="l01502"></a>01502                 <span class="keyword">delete</span> data;
<a name="l01503"></a>01503                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01504"></a>01504             }
<a name="l01505"></a>01505 
<a name="l01506"></a>01506             node-&gt;<a class="code" href="classSeExprFuncNode.html#a2ec05bcf76de5edc437365737d2d8d0b" title="associate blind data with this node (subsequently owned by this object)">setData</a>(data);
<a name="l01507"></a>01507             <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;data-&gt;<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a9e15bad4d85a31cd4db0691a6af68f2f">ranges</a>.size();i++){
<a name="l01508"></a>01508                 <span class="keyword">const</span> std::pair&lt;int,int&gt;&amp; range=data-&gt;<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a9e15bad4d85a31cd4db0691a6af68f2f">ranges</a>[i];
<a name="l01509"></a>01509                 std::cerr&lt;&lt;<span class="stringliteral">&quot;range &quot;</span>&lt;&lt;range.first&lt;&lt;<span class="stringliteral">&quot;,&quot;</span>&lt;&lt;range.second&lt;&lt;std::endl;
<a name="l01510"></a>01510             }
<a name="l01511"></a>01511             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01512"></a>01512         }
<a name="l01513"></a>01513 
<a name="l01514"></a><a class="code" href="classSeExpr_1_1PrintFuncX.html#a4fe8691c054adc2c85a2ee0e8360477b">01514</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSeExpr_1_1PrintFuncX.html#a4fe8691c054adc2c85a2ee0e8360477b">eval</a>(<span class="keyword">const</span> <a class="code" href="classSeExprFuncNode.html" title="Node that calls a function.">SeExprFuncNode</a>* node, <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a>&amp; result)<span class="keyword"> const </span>
<a name="l01515"></a>01515 <span class="keyword">        </span>{
<a name="l01516"></a>01516             result[0]=result[1]=result[2]=0;
<a name="l01517"></a>01517 
<a name="l01518"></a>01518             <a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html">Data</a>* <a class="code" href="plugins_8txt.html#a6890ba7e9441ad7f1801de4e6c8ea0a0">data</a>=(<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html">Data</a>*)node-&gt;<a class="code" href="classSeExprFuncNode.html#aa13cef030c10335107aec8625f0eaecc" title="get associated blind data (returns 0 if none)">getData</a>();;
<a name="l01519"></a>01519             <span class="keywordtype">int</span> item=1;
<a name="l01520"></a>01520             <span class="comment">//int strLength=data-&gt;format.length();</span>
<a name="l01521"></a>01521             <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;data-&gt;<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a9e15bad4d85a31cd4db0691a6af68f2f">ranges</a>.size();i++){
<a name="l01522"></a>01522                 <span class="keyword">const</span> std::pair&lt;int,int&gt;&amp; range=data-&gt;<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a9e15bad4d85a31cd4db0691a6af68f2f">ranges</a>[i];
<a name="l01523"></a>01523                 <span class="keywordflow">if</span>(range.first==-2){
<a name="l01524"></a>01524                     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> param;
<a name="l01525"></a>01525                     node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(item)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(param);
<a name="l01526"></a>01526                     std::cerr&lt;&lt;param[0];
<a name="l01527"></a>01527                     item++;
<a name="l01528"></a>01528                 }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(range.first==-1){
<a name="l01529"></a>01529                     <a class="code" href="classSeVec3d.html" title="A 3d point/vector class.">SeVec3d</a> param;
<a name="l01530"></a>01530                     node-&gt;<a class="code" href="classSeExprNode.html#a289f72f8272bf567500e68ff361b7a14">child</a>(item)-&gt;<a class="code" href="classSeExprNode.html#a8878a551812511085b1947d4f8fbe08c" title="Evaluation method. Note: v[1] and v[2] are undefined if !isVec.">eval</a>(param);
<a name="l01531"></a>01531                     std::cerr&lt;&lt;<span class="stringliteral">&quot;[&quot;</span>&lt;&lt;param[0]&lt;&lt;<span class="stringliteral">&quot;,&quot;</span>&lt;&lt;param[1]&lt;&lt;<span class="stringliteral">&quot;,&quot;</span>&lt;&lt;param[2]&lt;&lt;<span class="stringliteral">&quot;]&quot;</span>;
<a name="l01532"></a>01532                     item++;
<a name="l01533"></a>01533                 }<span class="keywordflow">else</span>{
<a name="l01534"></a>01534                     std::cerr&lt;&lt;data-&gt;<a class="code" href="structSeExpr_1_1PrintFuncX_1_1Data.html#a11fc2c06702a75f88734ed5214fb3801">format</a>.substr(range.first,range.second-range.first);
<a name="l01535"></a>01535                 }
<a name="l01536"></a>01536             }
<a name="l01537"></a>01537                 std::cerr&lt;&lt;std::endl;
<a name="l01538"></a>01538         }        
<a name="l01539"></a>01539     <span class="keyword">public</span>:
<a name="l01540"></a><a class="code" href="classSeExpr_1_1PrintFuncX.html#a8ed41e48a72371bbef321eba2a985c94">01540</a>         <a class="code" href="classSeExpr_1_1PrintFuncX.html#a8ed41e48a72371bbef321eba2a985c94">PrintFuncX</a>():<a class="code" href="classSeExprFuncX.html" title="Extension function spec, used for complicated argument custom functions.">SeExprFuncX</a>(false){} <span class="comment">// not thread safe</span>
<a name="l01541"></a>01541 
<a name="l01542"></a>01542     } <a class="code" href="namespaceSeExpr.html#adf44fb3b9cdeb9195779eb5a5fd5015f">printf</a>;
<a name="l01543"></a><a class="code" href="namespaceSeExpr.html#a8a3cdafc0a3006678785937b13bf20ed">01543</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceSeExpr.html#a8a3cdafc0a3006678785937b13bf20ed">printf_docstring</a>=
<a name="l01544"></a>01544         <span class="stringliteral">&quot;printf(string format,[vec0, vec1,  ...])\n&quot;</span>
<a name="l01545"></a>01545         <span class="stringliteral">&quot;Prints out a string to STDOUT, Format parameter allowed is %v&quot;</span>;
<a name="l01546"></a>01546 
<a name="l01547"></a>01547     <span class="keywordtype">void</span> <a class="code" href="namespaceSeExpr.html#a75374d81db9220a6aded870f9a082b98">defineBuiltins</a>(<a class="code" href="classSeExprFunc.html#a1af65661f6733499abb7af62d105b4d6">SeExprFunc::Define</a> <a class="code" href="plugins_8txt.html#aa0c7fab600d08e9ea6cd489da8c99e73">define</a>,<a class="code" href="classSeExprFunc.html#a36af99100e2c40190537c0216af482bd">SeExprFunc::Define3</a> define3)
<a name="l01548"></a>01548     {
<a name="l01549"></a>01549         <span class="comment">// functions from math.h (global namespace)</span>
<a name="l01550"></a>01550 <span class="comment">//#define FUNC(func)      define(#func, SeExprFunc(::func))</span>
<a name="l01551"></a>01551 <span class="preprocessor">#define FUNCADOC(name, func) define3(name, SeExprFunc(::func),func##_docstring)</span>
<a name="l01552"></a>01552 <span class="preprocessor"></span><span class="preprocessor">#define FUNCDOC(func)     define3(#func, SeExprFunc(::func),func##_docstring)</span>
<a name="l01553"></a>01553 <span class="preprocessor"></span>        <a class="code" href="SeExprBuiltins_8cpp.html#adf8bca89376fcb80a4bda96efae7a4d5">FUNCADOC</a>(<span class="stringliteral">&quot;abs&quot;</span>, fabs);
<a name="l01554"></a>01554         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(acos);
<a name="l01555"></a>01555         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(asin);
<a name="l01556"></a>01556         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(atan);
<a name="l01557"></a>01557         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(atan2);
<a name="l01558"></a>01558         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(ceil);
<a name="l01559"></a>01559         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(cos);
<a name="l01560"></a>01560         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(cosh);
<a name="l01561"></a>01561         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(exp);
<a name="l01562"></a>01562         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(floor);
<a name="l01563"></a>01563         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(fmod);
<a name="l01564"></a>01564         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(log);
<a name="l01565"></a>01565         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(log10);
<a name="l01566"></a>01566         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="userdoc_8txt.html#aad2751df952dcc832c4f3503b2319460">pow</a>);
<a name="l01567"></a>01567         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="tutorial_8txt.html#a515b400e8ffacc584bb564d23ce8e6bd">sin</a>);
<a name="l01568"></a>01568         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(sinh);
<a name="l01569"></a>01569         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(sqrt);
<a name="l01570"></a>01570         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(tan);
<a name="l01571"></a>01571         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(tanh);
<a name="l01572"></a>01572 <span class="preprocessor">#ifndef SEEXPR_WIN32</span>
<a name="l01573"></a>01573 <span class="preprocessor"></span>        <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(cbrt);
<a name="l01574"></a>01574         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(asinh);
<a name="l01575"></a>01575         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(acosh);
<a name="l01576"></a>01576         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(atanh);
<a name="l01577"></a>01577         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(trunc);
<a name="l01578"></a>01578 <span class="preprocessor">#endif</span>
<a name="l01579"></a>01579 <span class="preprocessor"></span>
<a name="l01580"></a>01580         <span class="comment">// local functions (SeExpr namespace)</span>
<a name="l01581"></a>01581 <span class="comment">//#undef FUNC</span>
<a name="l01582"></a>01582 <span class="preprocessor">#undef FUNCDOC</span>
<a name="l01583"></a>01583 <span class="preprocessor"></span><span class="comment">//#define FUNC(func)          define(#func, SeExprFunc(SeExpr::func))</span>
<a name="l01584"></a>01584 <span class="comment">//#define FUNCN(func, min, max) define(#func, SeExprFunc(SeExpr::func, min, max))</span>
<a name="l01585"></a>01585 <span class="preprocessor">#define FUNCDOC(func)         define3(#func, SeExprFunc(SeExpr::func),func##_docstring)</span>
<a name="l01586"></a>01586 <span class="preprocessor"></span><span class="preprocessor">#define FUNCNDOC(func, min, max) define3(#func, SeExprFunc(SeExpr::func, min, max),func##_docstring)</span>
<a name="l01587"></a>01587 <span class="preprocessor"></span>
<a name="l01588"></a>01588         <span class="comment">// trig</span>
<a name="l01589"></a>01589         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#abe99a749288e72b888cf838c95acb662">deg</a>);
<a name="l01590"></a>01590         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a24a11a1741adc3e2ccb7bbedb61a334f">rad</a>);
<a name="l01591"></a>01591         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a65019d62343c4990eb066f8c7577dd88">cosd</a>);
<a name="l01592"></a>01592         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#afc4a6358238dbb1420ebbbccf4a24870">sind</a>);
<a name="l01593"></a>01593         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a07875a7f0c5cd08bf8b166c5d455ec72">tand</a>);
<a name="l01594"></a>01594         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#af7164e443df5f778fa749405b3db3a34">acosd</a>);
<a name="l01595"></a>01595         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a73ddf9303bcb8f4b8d3e20831ed514cd">asind</a>);
<a name="l01596"></a>01596         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a20dcf25b428217966ac56e4f368d32ac">atand</a>);
<a name="l01597"></a>01597         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a2f558ee2b8ee2f177ff4353e6aeec649">atan2d</a>);
<a name="l01598"></a>01598 
<a name="l01599"></a>01599         <span class="comment">// clamping</span>
<a name="l01600"></a>01600         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a8e4acee7ae9d47df8c2873992c91f67f">clamp</a>);
<a name="l01601"></a>01601         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a64a419e9ea27044693ad3af3a123f6cc">round</a>);
<a name="l01602"></a>01602         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a10f1ea6b0a26c0f40740f2dc47d3b807">max</a>);
<a name="l01603"></a>01603         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a5cca54946c4cbd546481545cf228dc44">min</a>);
<a name="l01604"></a>01604 
<a name="l01605"></a>01605         <span class="comment">// blending / remapping</span>
<a name="l01606"></a>01606         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#ac2e9e2704511ea8c5121f2fd8403670b">invert</a>);
<a name="l01607"></a>01607         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a8684bf47fbe5d7c31433f8dd3a9f8483">compress</a>);
<a name="l01608"></a>01608         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#ab7f826996c6f433c7bba11b5babbdae2">expand</a>);
<a name="l01609"></a>01609         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a5f6622cc67cd201af2059ac25b32a148">fit</a>);
<a name="l01610"></a>01610         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#afb0503de98b740f8227a5357862b352b">gamma</a>);
<a name="l01611"></a>01611         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#aaa617ea4ad087954b038ba432ba77dfc">bias</a>);
<a name="l01612"></a>01612         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a951d8d81852bb340a66b63c74ad259b9">contrast</a>);
<a name="l01613"></a>01613         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a3e906ed745e4dedba79d7ec3f3f2c55e">boxstep</a>);
<a name="l01614"></a>01614         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a47674afb68f562b115dbca252abfddfb">linearstep</a>);
<a name="l01615"></a>01615         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a8230b456b436953200c359b3f656d4bb">smoothstep</a>);
<a name="l01616"></a>01616         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#af6f746ed74374c43677f18d226cb053f">gaussstep</a>);
<a name="l01617"></a>01617         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a377df998c2d0d41719f45d8ab8200291">remap</a>);
<a name="l01618"></a>01618         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a969ada60006dddbd09c7c7f2262ea29c">mix</a>);
<a name="l01619"></a>01619         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#aa5cc1eda2a938e06d29b5cb71c57689c">hsi</a>, 4, 5);
<a name="l01620"></a>01620         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a5b413e2f3784e2cae1e32d202634ff79">midhsi</a>, 5, 7);
<a name="l01621"></a>01621         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a30eb3fb9cedcab9922551d3363305a7b">hsltorgb</a>);
<a name="l01622"></a>01622         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#afe3557be1af2ff5d1e5cbf16a8f038e8">rgbtohsl</a>);
<a name="l01623"></a>01623 
<a name="l01624"></a>01624         <span class="comment">// noise</span>
<a name="l01625"></a>01625         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a74fc283df3c246302b37ddbf9c257f44">hash</a>, 1, -1);
<a name="l01626"></a>01626         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a85ea24a3c820f5e7c1ec70ae94e761c8">noise</a>, 1, 4);
<a name="l01627"></a>01627         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a7102d1b25640067230e4fc70f91900b8">snoise</a>);
<a name="l01628"></a>01628         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#aeba0742eceb82787743b21c3727f7197">vnoise</a>);
<a name="l01629"></a>01629         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a5279580b80dbe3be27fc9440d0ec7cb6">cnoise</a>);
<a name="l01630"></a>01630         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#ab6b9f9bc3e0fa0091ad22cba738679b2">snoise4</a>,2,2);
<a name="l01631"></a>01631         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#ae1adee7fe60357d938c72c90ca8ef21f">vnoise4</a>,2,2);
<a name="l01632"></a>01632         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a271f258c50ce26f0efd6f374072b68d2">cnoise4</a>,2,2);
<a name="l01633"></a>01633         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#aa420db7425be7debbde70b73f876d017">turbulence</a>, 1, 4);
<a name="l01634"></a>01634         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#afbd02b5c835295649149b018ed36c6d0">vturbulence</a>, 1, 4);
<a name="l01635"></a>01635         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a57d7f900fc078521e6da691e0dae1d3a">cturbulence</a>, 1, 4);
<a name="l01636"></a>01636         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a7b79d875f8142ecc95ce96e6c781063a">fbm</a>, 1, 4);
<a name="l01637"></a>01637         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a3988d9c458346d34e0110d2bffe8c4f9">vfbm</a>, 1, 4);
<a name="l01638"></a>01638         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a66b8d5c32437194fa6968e5102b3e3a2">cfbm</a>, 1, 4);
<a name="l01639"></a>01639         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a470855f39e35b7f0d15e1f7b70508187">cellnoise</a>);
<a name="l01640"></a>01640         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a6b47c08dc538c02249f2fb7694f9879d">ccellnoise</a>);
<a name="l01641"></a>01641         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#aafe0e78fcce3a8605aaab8313a56294b">pnoise</a>);
<a name="l01642"></a>01642         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(voronoi, 1, 7);
<a name="l01643"></a>01643         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(cvoronoi, 1, 7);
<a name="l01644"></a>01644         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(pvoronoi, 1, 6);
<a name="l01645"></a>01645         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a40717da4ab2209d71398c08987f4f2d7">fbm4</a>, 2, 5);
<a name="l01646"></a>01646         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a81e21953900b44bd9205a5939dc8c008">vfbm4</a>, 2, 5);
<a name="l01647"></a>01647         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a9d490c38f4d8b43ba26a27c9624cedfe">cfbm4</a>, 2, 5);
<a name="l01648"></a>01648         <span class="comment">// vectors</span>
<a name="l01649"></a>01649         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a376266b6cb2b6b5077fc5249f56f0827">dist</a>);
<a name="l01650"></a>01650         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a031b35f1de6c687363eeeb8ad4eeb884">length</a>);
<a name="l01651"></a>01651         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#ac7140f6ee620f22684caa9a164652c5e">hypot</a>);
<a name="l01652"></a>01652         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a294624df90b758d3c2de1e66919e4a35">dot</a>);
<a name="l01653"></a>01653         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a488cc694026f039309eef989a93e4ad4">norm</a>);
<a name="l01654"></a>01654         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#ac292a7835174c9b4adfc03c8845a7646">cross</a>);
<a name="l01655"></a>01655         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a024ac2a8a478450ffeba5275d0c4753d">angle</a>);
<a name="l01656"></a>01656         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#ac9fd8d96a8b315b19f828abe3f0df454">ortho</a>);
<a name="l01657"></a>01657         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a15f128e678a6caf3a4115a92a6e55fc3">rotate</a>, 3, 3);
<a name="l01658"></a>01658         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a67a32b18409ea9f7c0a43dc6e65caac6">up</a>);
<a name="l01659"></a>01659 
<a name="l01660"></a>01660         <span class="comment">// variations</span>
<a name="l01661"></a>01661         <a class="code" href="SeExprBuiltins_8cpp.html#a4ecbd3edc61da682b2811a1e56bb5e9c">FUNCDOC</a>(<a class="code" href="namespaceSeExpr.html#a71659ea2b80b9877a7c5e96cc0d6c5cc">cycle</a>);
<a name="l01662"></a>01662         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a4d39d787a40c0ee096d53f862a767fa3">pick</a>, 3, -1);
<a name="l01663"></a>01663         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#af521c28ccdfe87a910980c342c4195bc">choose</a>, 3, -1);
<a name="l01664"></a>01664         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#ac07c32ff89a9ed9325da33f9e556c11f">wchoose</a>, 4, -1);
<a name="l01665"></a>01665         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a745f243263b1cbcee8bbcf7501367191">spline</a>, 5, -1);
<a name="l01666"></a>01666         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#afc0a4ef5bf616eab6cf3c8e0b1c3e528">curve</a>, 1, -1);
<a name="l01667"></a>01667         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#a15c1058b2a85e4a22ee9a6d114af8323">ccurve</a>, 1, -1);
<a name="l01668"></a>01668         <a class="code" href="SeExprBuiltins_8cpp.html#aa7bf8ba2ae6597e18c40833f871da5a6">FUNCNDOC</a>(<a class="code" href="namespaceSeExpr.html#adf44fb3b9cdeb9195779eb5a5fd5015f">printf</a>,1,-1);
<a name="l01669"></a>01669 
<a name="l01670"></a>01670     }
<a name="l01671"></a>01671 }
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 3 May 2011 for SeExpr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
